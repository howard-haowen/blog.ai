<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>freeCodeCamp project Demographic Data Analyzer | Haowen’s AI blog</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="freeCodeCamp project Demographic Data Analyzer" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This post goes through the steps for completing the freeCodeCamp project Demographic Data Analyzer with the pandas library." />
<meta property="og:description" content="This post goes through the steps for completing the freeCodeCamp project Demographic Data Analyzer with the pandas library." />
<link rel="canonical" href="https://howard-haowen.github.io/blog.ai/pandas/freecodecamp/certificate/2022/03/09/freeCodeCamp-project-Demographic-Data-Analyzer.html" />
<meta property="og:url" content="https://howard-haowen.github.io/blog.ai/pandas/freecodecamp/certificate/2022/03/09/freeCodeCamp-project-Demographic-Data-Analyzer.html" />
<meta property="og:site_name" content="Haowen’s AI blog" />
<meta property="og:image" content="https://howard-haowen.github.io/blog.ai/images/fat-panda.jpeg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-03-09T00:00:00-06:00" />
<script type="application/ld+json">
{"url":"https://howard-haowen.github.io/blog.ai/pandas/freecodecamp/certificate/2022/03/09/freeCodeCamp-project-Demographic-Data-Analyzer.html","@type":"BlogPosting","headline":"freeCodeCamp project Demographic Data Analyzer","dateModified":"2022-03-09T00:00:00-06:00","datePublished":"2022-03-09T00:00:00-06:00","image":"https://howard-haowen.github.io/blog.ai/images/fat-panda.jpeg","mainEntityOfPage":{"@type":"WebPage","@id":"https://howard-haowen.github.io/blog.ai/pandas/freecodecamp/certificate/2022/03/09/freeCodeCamp-project-Demographic-Data-Analyzer.html"},"description":"This post goes through the steps for completing the freeCodeCamp project Demographic Data Analyzer with the pandas library.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/blog.ai/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://howard-haowen.github.io/blog.ai/feed.xml" title="Haowen's AI blog" /><!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','G-46Y745KSM9','auto');ga('require','displayfeatures');ga('send','pageview');</script>

<link rel="shortcut icon" type="image/x-icon" href="/blog.ai/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/blog.ai/">Haowen&#39;s AI blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/blog.ai/about/">About Me</a><a class="page-link" href="/blog.ai/search/">Search</a><a class="page-link" href="/blog.ai/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">freeCodeCamp project Demographic Data Analyzer</h1><p class="page-description">This post goes through the steps for completing the freeCodeCamp project Demographic Data Analyzer with the pandas library.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-03-09T00:00:00-06:00" itemprop="datePublished">
        Mar 9, 2022
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      31 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/blog.ai/categories/#pandas">pandas</a>
        &nbsp;
      
        <a class="category-tags-link" href="/blog.ai/categories/#freecodecamp">freecodecamp</a>
        &nbsp;
      
        <a class="category-tags-link" href="/blog.ai/categories/#certificate">certificate</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          <div class="px-2">

    <a href="https://github.com/howard-haowen/blog.ai/tree/master/_notebooks/2022-03-09-freeCodeCamp-project-Demographic-Data-Analyzer.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/blog.ai/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/howard-haowen/blog.ai/master?filepath=_notebooks%2F2022-03-09-freeCodeCamp-project-Demographic-Data-Analyzer.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/blog.ai/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/howard-haowen/blog.ai/blob/master/_notebooks/2022-03-09-freeCodeCamp-project-Demographic-Data-Analyzer.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/blog.ai/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#Intro">Intro </a></li>
<li class="toc-entry toc-h1"><a href="#Import">Import </a></li>
<li class="toc-entry toc-h1"><a href="#Dataset">Dataset </a></li>
<li class="toc-entry toc-h1"><a href="#Task-instructions">Task instructions </a>
<ul>
<li class="toc-entry toc-h2"><a href="#Assignment">Assignment </a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#Steps">Steps </a>
<ul>
<li class="toc-entry toc-h2"><a href="#Q1:-Race-counts">Q1: Race counts </a></li>
<li class="toc-entry toc-h2"><a href="#Q2:-Average-age-of-men">Q2: Average age of men </a></li>
<li class="toc-entry toc-h2"><a href="#Q3:-Percentage-of-people-with-a-Bachelor-degree">Q3: Percentage of people with a Bachelor degree </a></li>
<li class="toc-entry toc-h2"><a href="#Q4:-Percentage-of-people-with-advanced-education-who-make-more-than-50k">Q4: Percentage of people with advanced education who make more than 50k </a></li>
<li class="toc-entry toc-h2"><a href="#Q5:-Percentage-of-people-without-advanced-education-who-make-more-than-50k">Q5: Percentage of people without advanced education who make more than 50k </a></li>
<li class="toc-entry toc-h2"><a href="#Q6:-Minimum-hours-per-week">Q6: Minimum hours per week </a></li>
<li class="toc-entry toc-h2"><a href="#Q7:-Percentage-of-people-working-minimum-hours-per-week-who-make-more-than-50k">Q7: Percentage of people working minimum hours per week who make more than 50k </a></li>
<li class="toc-entry toc-h2"><a href="#Q8:-Country-with-the-highest-percentage-of-people-who-make-more-than-50k">Q8: Country with the highest percentage of people who make more than 50k </a></li>
<li class="toc-entry toc-h2"><a href="#Q9:-Most-popular-occupation-for-those-who-make-more-than-50k-in-India">Q9: Most popular occupation for those who make more than 50k in India </a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#Put-it-together">Put it together </a></li>
<li class="toc-entry toc-h1"><a href="#Recap">Recap </a></li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2022-03-09-freeCodeCamp-project-Demographic-Data-Analyzer.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="https://colab.research.google.com/github/howard-haowen/blog.ai/blob/master/_notebooks/2022-03-09-freeCodeCamp-project-Demographic-Data-Analyzer.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"></a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://github.com/howard-haowen/blog.ai/raw/master/images/fat-panda.jpeg" alt="" title="Credit: lingvistov.com"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Intro">
<a class="anchor" href="#Intro" aria-hidden="true"><span class="octicon octicon-link"></span></a>Intro<a class="anchor-link" href="#Intro"> </a>
</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To earn the <a href="https://www.freecodecamp.org/">freeCodeCamp</a> certification on Data Analysis with Python, one has to complete five projects. This post goes through the steps for completing the one named <code>Demographic Data Analyzer</code> with the <code>pandas</code> library. For more background info, read <a href="https://howard-haowen.github.io/blog.ai/numpy/freecodecamp/certificate/2022/02/25/freeCodeCamp-project-Mean-Variance-Standard-Deviation-Calculator.html">the first post</a> of this series.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Import">
<a class="anchor" href="#Import" aria-hidden="true"><span class="octicon octicon-link"></span></a>Import<a class="anchor-link" href="#Import"> </a>
</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For this project, we need nothing but the <code>pandas</code> 🐼 library, which is preinstalled on Colab. This following graph summarizes its major use cases.</p>
<p><img src="https://shanthababu.files.wordpress.com/2021/03/pandas-can-do.png?w=602" alt=""></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We'll be primarily dealing with the following three types of objects:</p>
<ul>
<li><a href="https://pandas.pydata.org/docs/reference/series.html">Series</a></li>
<li><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html">DataFrame</a></li>
<li><a href="https://pandas.pydata.org/docs/reference/groupby.html">GroupBy</a></li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Dataset">
<a class="anchor" href="#Dataset" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dataset<a class="anchor-link" href="#Dataset"> </a>
</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's first clone <a href="https://github.com/freeCodeCamp/boilerplate-demographic-data-analyzer">the project repo</a> and change the current directory to <code>boilerplate-demographic-data-analyzer</code>. In it, you'll find the <code>adult.data.csv</code> file, which is the dataset.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">repo_url</span> <span class="o">=</span> <span class="s2">"https://github.com/freeCodeCamp/boilerplate-demographic-data-analyzer"</span>
<span class="err">!</span><span class="n">git</span> <span class="n">clone</span> <span class="p">{</span><span class="n">repo_url</span><span class="p">}</span>
<span class="o">%</span><span class="n">cd</span> <span class="n">boilerplate</span><span class="o">-</span><span class="n">demographic</span><span class="o">-</span><span class="n">data</span><span class="o">-</span><span class="n">analyzer</span>
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Output" data-close="Show Output"></summary>
        <p>
</p>
<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Cloning into 'boilerplate-demographic-data-analyzer'...
remote: Enumerating objects: 22, done.
remote: Counting objects: 100% (22/22), done.
remote: Compressing objects: 100% (19/19), done.
remote: Total 22 (delta 7), reused 12 (delta 2), pack-reused 0
Unpacking objects: 100% (22/22), done.
/content/boilerplate-demographic-data-analyzer
</pre>
</div>
</div>

</div>
</div>

    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since we're dealing with a csv file, we'll load the dataset with the <code>read_csv</code> function and save it as the variable <code>df</code>, which is pretty much the default name for DataFrame objects. A sample of 10 records is shown below.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">fname</span> <span class="o">=</span> <span class="s2">"adult.data.csv"</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Output" data-close="Show Output"></summary>
        <p>
</p>
<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

  <div id="df-f2370f9f-b3ec-4ceb-a82b-3e0364b95d60">
    <div class="colab-df-container">
      <div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>workclass</th>
      <th>fnlwgt</th>
      <th>education</th>
      <th>education-num</th>
      <th>marital-status</th>
      <th>occupation</th>
      <th>relationship</th>
      <th>race</th>
      <th>sex</th>
      <th>capital-gain</th>
      <th>capital-loss</th>
      <th>hours-per-week</th>
      <th>native-country</th>
      <th>salary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>21634</th>
      <td>38</td>
      <td>Private</td>
      <td>179668</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Married-civ-spouse</td>
      <td>Protective-serv</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>Scotland</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>4268</th>
      <td>36</td>
      <td>Private</td>
      <td>281021</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Never-married</td>
      <td>Transport-moving</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>45</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>1863</th>
      <td>25</td>
      <td>Private</td>
      <td>176520</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Never-married</td>
      <td>Craft-repair</td>
      <td>Other-relative</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>10570</th>
      <td>21</td>
      <td>?</td>
      <td>188535</td>
      <td>Some-college</td>
      <td>10</td>
      <td>Never-married</td>
      <td>?</td>
      <td>Own-child</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>22607</th>
      <td>19</td>
      <td>Private</td>
      <td>243373</td>
      <td>12th</td>
      <td>8</td>
      <td>Never-married</td>
      <td>Sales</td>
      <td>Other-relative</td>
      <td>White</td>
      <td>Male</td>
      <td>1055</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>13134</th>
      <td>41</td>
      <td>State-gov</td>
      <td>180272</td>
      <td>Masters</td>
      <td>14</td>
      <td>Never-married</td>
      <td>Prof-specialty</td>
      <td>Own-child</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>35</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>14015</th>
      <td>49</td>
      <td>Self-emp-inc</td>
      <td>119565</td>
      <td>Masters</td>
      <td>14</td>
      <td>Married-civ-spouse</td>
      <td>Sales</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>32054</th>
      <td>23</td>
      <td>Private</td>
      <td>335067</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Never-married</td>
      <td>Sales</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>50</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>14950</th>
      <td>51</td>
      <td>Private</td>
      <td>74660</td>
      <td>10th</td>
      <td>6</td>
      <td>Married-civ-spouse</td>
      <td>Craft-repair</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>28137</th>
      <td>49</td>
      <td>Private</td>
      <td>209146</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Married-civ-spouse</td>
      <td>Transport-moving</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-f2370f9f-b3ec-4ceb-a82b-3e0364b95d60')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  &lt;svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px"&gt;
    <path d="M0 0h24v24H0V0z" fill="none"></path>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"></path><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"></path>
  &lt;/svg&gt;
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-f2370f9f-b3ec-4ceb-a82b-3e0364b95d60 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-f2370f9f-b3ec-4ceb-a82b-3e0364b95d60');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>

</div>

</div>
</div>

    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The dataset has in total 32561 rows and 15 columns, with each row representing a person and each column indicating an attribute of that person.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(32561, 15)</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Task-instructions">
<a class="anchor" href="#Task-instructions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Task instructions<a class="anchor-link" href="#Task-instructions"> </a>
</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As in my previous post, I use the <code>rich</code> library to render the <code>README.md</code> file for task instructions.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="err">!</span><span class="n">pip</span> <span class="n">install</span> <span class="n">rich</span>

<span class="kn">from</span> <span class="nn">rich.console</span> <span class="kn">import</span> <span class="n">Console</span>
<span class="kn">from</span> <span class="nn">rich.markdown</span> <span class="kn">import</span> <span class="n">Markdown</span>

<span class="k">def</span> <span class="nf">show_readme</span><span class="p">():</span>
    <span class="n">console</span> <span class="o">=</span> <span class="n">Console</span><span class="p">()</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"README.md"</span><span class="p">)</span> <span class="k">as</span> <span class="n">readme</span><span class="p">:</span>
        <span class="n">markdown</span> <span class="o">=</span> <span class="n">Markdown</span><span class="p">(</span><span class="n">readme</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
    <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="n">markdown</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Output" data-close="Show Output"></summary>
        <p>
</p>
<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Collecting rich
  Downloading rich-11.2.0-py3-none-any.whl (217 kB)
     |████████████████████████████████| 217 kB 3.2 MB/s 
Collecting colorama&lt;0.5.0,&gt;=0.4.0
  Downloading colorama-0.4.4-py2.py3-none-any.whl (16 kB)
Collecting commonmark&lt;0.10.0,&gt;=0.9.0
  Downloading commonmark-0.9.1-py2.py3-none-any.whl (51 kB)
     |████████████████████████████████| 51 kB 5.8 MB/s 
Requirement already satisfied: pygments&lt;3.0.0,&gt;=2.6.0 in /usr/local/lib/python3.7/dist-packages (from rich) (2.6.1)
Requirement already satisfied: typing-extensions&lt;5.0,&gt;=3.7.4 in /usr/local/lib/python3.7/dist-packages (from rich) (3.10.0.2)
Installing collected packages: commonmark, colorama, rich
Successfully installed colorama-0.4.4 commonmark-0.9.1 rich-11.2.0
</pre>
</div>
</div>

</div>
</div>

    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Assignment">
<a class="anchor" href="#Assignment" aria-hidden="true"><span class="octicon octicon-link"></span></a>Assignment<a class="anchor-link" href="#Assignment"> </a>
</h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">show_readme</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Output" data-close="Show Output"></summary>
        <p>
</p>
<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">                                         <span style="font-weight: bold">Assignment</span>                                          

╔═══════════════════════════════════════════════════════════════════════════════════════════╗
║                                 <span style="font-weight: bold">Demographic Data Analyzer</span>                                 ║
╚═══════════════════════════════════════════════════════════════════════════════════════════╝

In this challenge you must analyze demographic data using Pandas. You are given a dataset of 
demographic data that was extracted from the 1994 Census database. Here is a sample of what  
the data looks like:                                                                         

|    |   age | workclass        |   fnlwgt | education   |   education-num | marital-status  
| occupation        | relationship   | race   | sex    |   capital-gain |   capital-loss |   
hours-per-week | native-country   | salary   | |---:|------:|:-----------------|---------:|:-
-----------|----------------:|:-------------------|:------------------|:---------------|:----
---|:-------|---------------:|---------------:|-----------------:|:-----------------|:-------
--| |  0 |    39 | State-gov        |    77516 | Bachelors   |              13 |             
Never-married      | Adm-clerical      | Not-in-family  | White  | Male   |           2174 | 
0 |               40 | United-States    | &lt;=50K    | |  1 |    50 | Self-emp-not-inc |       
83311 | Bachelors   |              13 | Married-civ-spouse | Exec-managerial   | Husband     
| White  | Male   |              0 |              0 |               13 | United-States    |  
&lt;=50K    | |  2 |    38 | Private          |   215646 | HS-grad     |               9 |      
Divorced           | Handlers-cleaners | Not-in-family  | White  | Male   |              0 | 
0 |               40 | United-States    | &lt;=50K    | |  3 |    53 | Private          |       
234721 | 11th        |               7 | Married-civ-spouse | Handlers-cleaners | Husband    
| Black  | Male   |              0 |              0 |               40 | United-States    |  
&lt;=50K    | |  4 |    28 | Private          |   338409 | Bachelors   |              13 |      
Married-civ-spouse | Prof-specialty    | Wife           | Black  | Female |              0 | 
0 |               40 | Cuba             | &lt;=50K    |                                         

You must use Pandas to answer the following questions:                                       

<span style="color: #808000; text-decoration-color: #808000; font-weight: bold"> • </span>How many people of each race are represented in this dataset? This should be a Pandas     
<span style="color: #808000; text-decoration-color: #808000; font-weight: bold">   </span>series with race names as the index labels. (<span style="color: #ffffff; text-decoration-color: #ffffff; background-color: #000000">race</span> column)                                 
<span style="color: #808000; text-decoration-color: #808000; font-weight: bold"> • </span>What is the average age of men?                                                           
<span style="color: #808000; text-decoration-color: #808000; font-weight: bold"> • </span>What is the percentage of people who have a Bachelor's degree?                            
<span style="color: #808000; text-decoration-color: #808000; font-weight: bold"> • </span>What percentage of people with advanced education (<span style="color: #ffffff; text-decoration-color: #ffffff; background-color: #000000">Bachelors</span>, <span style="color: #ffffff; text-decoration-color: #ffffff; background-color: #000000">Masters</span>, or <span style="color: #ffffff; text-decoration-color: #ffffff; background-color: #000000">Doctorate</span>) make 
<span style="color: #808000; text-decoration-color: #808000; font-weight: bold">   </span>more than 50K?                                                                            
<span style="color: #808000; text-decoration-color: #808000; font-weight: bold"> • </span>What percentage of people without advanced education make more than 50K?                  
<span style="color: #808000; text-decoration-color: #808000; font-weight: bold"> • </span>What is the minimum number of hours a person works per week?                              
<span style="color: #808000; text-decoration-color: #808000; font-weight: bold"> • </span>What percentage of the people who work the minimum number of hours per week have a salary 
<span style="color: #808000; text-decoration-color: #808000; font-weight: bold">   </span>of more than 50K?                                                                         
<span style="color: #808000; text-decoration-color: #808000; font-weight: bold"> • </span>What country has the highest percentage of people that earn &gt;50K and what is that         
<span style="color: #808000; text-decoration-color: #808000; font-weight: bold">   </span>percentage?                                                                               
<span style="color: #808000; text-decoration-color: #808000; font-weight: bold"> • </span>Identify the most popular occupation for those who earn &gt;50K in India.                    

Use the starter code in the file <span style="color: #ffffff; text-decoration-color: #ffffff; background-color: #000000">demographic_data_analyzer</span>. Update the code so all variables 
set to "None" are set to the appropriate calculation or code. Round all decimals to the      
nearest tenth.                                                                               

Unit tests are written for you under <span style="color: #ffffff; text-decoration-color: #ffffff; background-color: #000000">test_module.py</span>.                                         

                                         <span style="font-weight: bold">Development</span>                                         

For development, you can use <span style="color: #ffffff; text-decoration-color: #ffffff; background-color: #000000">main.py</span> to test your functions. Click the "run" button and      
<span style="color: #ffffff; text-decoration-color: #ffffff; background-color: #000000">main.py</span> will run.                                                                            

                                           <span style="font-weight: bold">Testing</span>                                           

We imported the tests from <span style="color: #ffffff; text-decoration-color: #ffffff; background-color: #000000">test_module.py</span> to <span style="color: #ffffff; text-decoration-color: #ffffff; background-color: #000000">main.py</span> for your convenience. The tests will run
automatically whenever you hit the "run" button.                                             

                                         <span style="font-weight: bold">Submitting</span>                                          

Copy your project's URL and submit it to freeCodeCamp.                                       

                                       <span style="font-weight: bold">Dataset Source</span>                                        

Dua, D. and Graff, C. (2019). UCI Machine Learning Repository                                
[http://archive.ics.uci.edu/ml]. Irvine, CA: University of California, School of Information 
and Computer Science.                                                                        
</pre>

</div>

</div>

</div>
</div>

    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Steps">
<a class="anchor" href="#Steps" aria-hidden="true"><span class="octicon octicon-link"></span></a>Steps<a class="anchor-link" href="#Steps"> </a>
</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The assignment lists 9 questions, and I'll just follow the order in which they occur.</p>
<p>The <code>pandas</code> syntax is quite powerful, and a lot of things could happen with just one line of code. When I first started learning <code>pandas</code>, I wish there were some kind of visual aids that could show me the transformation of a dataset from one state to another. Luckily 😙, I came across the <a href="https://pandastutor.com/vis.html">Pandas Tutor</a>, which can be very helpful if you are a visual learner like me. With its help, I'll be providing links to various visualizations in due course. But bear in mind that for the purpose of visualization I only took 20 random records rather than the whole dataset. The point is to visualize a tranformation process, not to actually do data analysis on <a href="https://pandastutor.com/vis.html">Pandas Tutor</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Q1:-Race-counts">
<a class="anchor" href="#Q1:-Race-counts" aria-hidden="true"><span class="octicon octicon-link"></span></a>Q1: Race counts<a class="anchor-link" href="#Q1:-Race-counts"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To get the counts of each race, we group the dataset by <code>race</code>. Calling the <code>groupby</code> method on <code>df</code> returns a GroupBy object, which cannot be displayed.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"race"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x7f528fe884d0&gt;</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In order to show some results, we'll have to call an additional method on the Groupby object. For instance, the <code>size</code> method returns the numbers we're looking for. Follow <a href="https://pandastutor.com/vis.html#code=import%20pandas%20as%20pd%0Aimport%20io%0A%0Acsv%20%3D%20'''%0Aage,workclass,fnlwgt,education,education-num,marital-status,occupation,relationship,race,sex,capital-gain,capital-loss,hours-per-week,native-country,salary%0A63,Private,102412,HS-grad,9,Divorced,Sales,Not-in-family,White,Female,0,0,40,United-States,%3C%3D50K%0A34,Private,734193,Some-college,10,Never-married,Exec-managerial,Not-in-family,White,Female,0,0,50,United-States,%3C%3D50K%0A52,Private,78012,HS-grad,9,Widowed,Sales,Unmarried,White,Female,0,1762,40,United-States,%3C%3D50K%0A20,%3F,150084,HS-grad,9,Never-married,%3F,Own-child,White,Male,0,0,25,United-States,%3C%3D50K%0A40,Self-emp-not-inc,34037,HS-grad,9,Never-married,Farming-fishing,Not-in-family,White,Male,0,0,70,United-States,%3C%3D50K%0A77,Private,235775,HS-grad,9,Married-civ-spouse,Other-service,Husband,White,Male,0,0,25,Cuba,%3C%3D50K%0A56,Private,139616,Bachelors,13,Divorced,Exec-managerial,Not-in-family,White,Male,0,0,45,United-States,%3E50K%0A50,Self-emp-not-inc,334273,Bachelors,13,Married-civ-spouse,Sales,Husband,White,Male,0,0,8,United-States,%3C%3D50K%0A31,Private,99844,HS-grad,9,Never-married,Craft-repair,Not-in-family,Amer-Indian-Eskimo,Male,0,0,45,United-States,%3C%3D50K%0A20,Private,231231,Some-college,10,Never-married,Sales,Not-in-family,White,Male,0,0,30,United-States,%3C%3D50K%0A18,Private,374969,10th,6,Never-married,Transport-moving,Not-in-family,White,Male,0,0,56,United-States,%3C%3D50K%0A32,Self-emp-inc,209691,Bachelors,13,Married-civ-spouse,Craft-repair,Husband,White,Male,0,0,50,Canada,%3C%3D50K%0A40,Private,406811,HS-grad,9,Separated,Exec-managerial,Unmarried,White,Female,0,0,40,Canada,%3C%3D50K%0A42,State-gov,436006,Some-college,10,Married-civ-spouse,Adm-clerical,Husband,Black,Male,0,0,40,United-States,%3C%3D50K%0A23,Private,189924,Some-college,10,Never-married,Other-service,Own-child,White,Female,0,0,40,United-States,%3C%3D50K%0A22,State-gov,311512,Some-college,10,Married-civ-spouse,Other-service,Husband,Black,Male,0,0,15,United-States,%3C%3D50K%0A44,Federal-gov,281739,Some-college,10,Never-married,Adm-clerical,Not-in-family,White,Male,13550,0,50,United-States,%3E50K%0A42,Self-emp-not-inc,82297,7th-8th,4,Married-civ-spouse,Other-service,Wife,Black,Female,0,0,50,United-States,%3C%3D50K%0A45,Private,341762,Masters,14,Married-civ-spouse,Exec-managerial,Husband,White,Male,0,0,65,United-States,%3E50K%0A50,Local-gov,199995,Bachelors,13,Divorced,Protective-serv,Not-in-family,White,Male,0,0,40,United-States,%3E50K%0A'''%0A%0Adf%20%3D%20pd.read_csv%28io.StringIO%28csv%29%29%0A%0Adf.groupby%28%22race%22%29.size%28%29&amp;d=2022-02-25&amp;lang=py&amp;v=v1">this link</a> to see a visualization of this process.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">race_count</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"race"</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
<span class="n">race_count</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>race
Amer-Indian-Eskimo      311
Asian-Pac-Islander     1039
Black                  3124
Other                   271
White                 27816
dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I thought <code>race_count</code> would be the answer to the first question, but it didn't pass the unittest. If you look at the <code>test_module.py</code> file, you'll see that the expected values of <code>race_count</code> are in ascending order, which is not made clear in the instructions. So, we'll have to sort the race counts by calling the <code>sort_values</code> method on <code>race_count</code> and setting the value of <code>ascending</code> to be <code>False</code>.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">race_count</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"race"</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">race_count</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>race
White                 27816
Black                  3124
Asian-Pac-Islander     1039
Amer-Indian-Eskimo      311
Other                   271
dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Q2:-Average-age-of-men">
<a class="anchor" href="#Q2:-Average-age-of-men" aria-hidden="true"><span class="octicon octicon-link"></span></a>Q2: Average age of men<a class="anchor-link" href="#Q2:-Average-age-of-men"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To get the average age of men, we first group the dataset by <code>sex</code>, then take the <code>age</code> column, and finally call the <code>mean</code> method. Many steps are going on here, follow <a href="https://pandastutor.com/vis.html#code=import%20pandas%20as%20pd%0Aimport%20io%0A%0Acsv%20%3D%20'''%0Aage,workclass,fnlwgt,education,education-num,marital-status,occupation,relationship,race,sex,capital-gain,capital-loss,hours-per-week,native-country,salary%0A63,Private,102412,HS-grad,9,Divorced,Sales,Not-in-family,White,Female,0,0,40,United-States,%3C%3D50K%0A34,Private,734193,Some-college,10,Never-married,Exec-managerial,Not-in-family,White,Female,0,0,50,United-States,%3C%3D50K%0A52,Private,78012,HS-grad,9,Widowed,Sales,Unmarried,White,Female,0,1762,40,United-States,%3C%3D50K%0A20,%3F,150084,HS-grad,9,Never-married,%3F,Own-child,White,Male,0,0,25,United-States,%3C%3D50K%0A40,Self-emp-not-inc,34037,HS-grad,9,Never-married,Farming-fishing,Not-in-family,White,Male,0,0,70,United-States,%3C%3D50K%0A77,Private,235775,HS-grad,9,Married-civ-spouse,Other-service,Husband,White,Male,0,0,25,Cuba,%3C%3D50K%0A56,Private,139616,Bachelors,13,Divorced,Exec-managerial,Not-in-family,White,Male,0,0,45,United-States,%3E50K%0A50,Self-emp-not-inc,334273,Bachelors,13,Married-civ-spouse,Sales,Husband,White,Male,0,0,8,United-States,%3C%3D50K%0A31,Private,99844,HS-grad,9,Never-married,Craft-repair,Not-in-family,Amer-Indian-Eskimo,Male,0,0,45,United-States,%3C%3D50K%0A20,Private,231231,Some-college,10,Never-married,Sales,Not-in-family,White,Male,0,0,30,United-States,%3C%3D50K%0A18,Private,374969,10th,6,Never-married,Transport-moving,Not-in-family,White,Male,0,0,56,United-States,%3C%3D50K%0A32,Self-emp-inc,209691,Bachelors,13,Married-civ-spouse,Craft-repair,Husband,White,Male,0,0,50,Canada,%3C%3D50K%0A40,Private,406811,HS-grad,9,Separated,Exec-managerial,Unmarried,White,Female,0,0,40,Canada,%3C%3D50K%0A42,State-gov,436006,Some-college,10,Married-civ-spouse,Adm-clerical,Husband,Black,Male,0,0,40,United-States,%3C%3D50K%0A23,Private,189924,Some-college,10,Never-married,Other-service,Own-child,White,Female,0,0,40,United-States,%3C%3D50K%0A22,State-gov,311512,Some-college,10,Married-civ-spouse,Other-service,Husband,Black,Male,0,0,15,United-States,%3C%3D50K%0A44,Federal-gov,281739,Some-college,10,Never-married,Adm-clerical,Not-in-family,White,Male,13550,0,50,United-States,%3E50K%0A42,Self-emp-not-inc,82297,7th-8th,4,Married-civ-spouse,Other-service,Wife,Black,Female,0,0,50,United-States,%3C%3D50K%0A45,Private,341762,Masters,14,Married-civ-spouse,Exec-managerial,Husband,White,Male,0,0,65,United-States,%3E50K%0A50,Local-gov,199995,Bachelors,13,Divorced,Protective-serv,Not-in-family,White,Male,0,0,40,United-States,%3E50K%0A'''%0A%0Adf%20%3D%20pd.read_csv%28io.StringIO%28csv%29%29%0A%0Adf.groupby%28%22sex%22%29%5B%22age%22%5D.mean%28%29&amp;d=2022-02-25&amp;lang=py&amp;v=v1">this link</a> to visualize each of them.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">average_age</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"sex"</span><span class="p">)[</span><span class="s2">"age"</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">average_age</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>sex
Female    36.858230
Male      39.433547
Name: age, dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>At this point, <code>average_age</code> is a Series object with two keys <code>Female</code> and <code>Male</code>. So we just need to specify the <code>Male</code> key to get the average age of men. Then we round it to the tenth by calling the builtin function <code>round</code>.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">average_age_men</span> <span class="o">=</span> <span class="n">average_age</span><span class="p">[</span><span class="s2">"Male"</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Before rounding: </span><span class="si">{</span><span class="n">average_age_men</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="n">average_age_men</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">average_age_men</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"After rounding: </span><span class="si">{</span><span class="n">average_age_men</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Before rounding: 39.43354749885268
After rounding: 39.4
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Q3:-Percentage-of-people-with-a-Bachelor-degree">
<a class="anchor" href="#Q3:-Percentage-of-people-with-a-Bachelor-degree" aria-hidden="true"><span class="octicon octicon-link"></span></a>Q3: Percentage of people with a Bachelor degree<a class="anchor-link" href="#Q3:-Percentage-of-people-with-a-Bachelor-degree"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To answer this question, we'll first need the fraction of the number of people with a Bachelor degree over the total number of people. To get the numerator, let's first create a Boolean filter named <code>edu_filt</code>, which will return <code>True</code> if the value of the <code>education</code> column for a given row is <code>Bachelors</code> or <code>False</code> if otherwise. Then we can just use the bracket notation <code>df[edu_filt]</code> to create a view of the dataset that satisfies the education criterion. Follow <a href="https://pandastutor.com/vis.html#code=import%20pandas%20as%20pd%0Aimport%20io%0A%0Acsv%20%3D%20'''%0Aage,workclass,fnlwgt,education,education-num,marital-status,occupation,relationship,race,sex,capital-gain,capital-loss,hours-per-week,native-country,salary%0A63,Private,102412,HS-grad,9,Divorced,Sales,Not-in-family,White,Female,0,0,40,United-States,%3C%3D50K%0A34,Private,734193,Some-college,10,Never-married,Exec-managerial,Not-in-family,White,Female,0,0,50,United-States,%3C%3D50K%0A52,Private,78012,HS-grad,9,Widowed,Sales,Unmarried,White,Female,0,1762,40,United-States,%3C%3D50K%0A20,%3F,150084,HS-grad,9,Never-married,%3F,Own-child,White,Male,0,0,25,United-States,%3C%3D50K%0A40,Self-emp-not-inc,34037,HS-grad,9,Never-married,Farming-fishing,Not-in-family,White,Male,0,0,70,United-States,%3C%3D50K%0A77,Private,235775,HS-grad,9,Married-civ-spouse,Other-service,Husband,White,Male,0,0,25,Cuba,%3C%3D50K%0A56,Private,139616,Bachelors,13,Divorced,Exec-managerial,Not-in-family,White,Male,0,0,45,United-States,%3E50K%0A50,Self-emp-not-inc,334273,Bachelors,13,Married-civ-spouse,Sales,Husband,White,Male,0,0,8,United-States,%3C%3D50K%0A31,Private,99844,HS-grad,9,Never-married,Craft-repair,Not-in-family,Amer-Indian-Eskimo,Male,0,0,45,United-States,%3C%3D50K%0A20,Private,231231,Some-college,10,Never-married,Sales,Not-in-family,White,Male,0,0,30,United-States,%3C%3D50K%0A18,Private,374969,10th,6,Never-married,Transport-moving,Not-in-family,White,Male,0,0,56,United-States,%3C%3D50K%0A32,Self-emp-inc,209691,Bachelors,13,Married-civ-spouse,Craft-repair,Husband,White,Male,0,0,50,Canada,%3C%3D50K%0A40,Private,406811,HS-grad,9,Separated,Exec-managerial,Unmarried,White,Female,0,0,40,Canada,%3C%3D50K%0A42,State-gov,436006,Some-college,10,Married-civ-spouse,Adm-clerical,Husband,Black,Male,0,0,40,United-States,%3C%3D50K%0A23,Private,189924,Some-college,10,Never-married,Other-service,Own-child,White,Female,0,0,40,United-States,%3C%3D50K%0A22,State-gov,311512,Some-college,10,Married-civ-spouse,Other-service,Husband,Black,Male,0,0,15,United-States,%3C%3D50K%0A44,Federal-gov,281739,Some-college,10,Never-married,Adm-clerical,Not-in-family,White,Male,13550,0,50,United-States,%3E50K%0A42,Self-emp-not-inc,82297,7th-8th,4,Married-civ-spouse,Other-service,Wife,Black,Female,0,0,50,United-States,%3C%3D50K%0A45,Private,341762,Masters,14,Married-civ-spouse,Exec-managerial,Husband,White,Male,0,0,65,United-States,%3E50K%0A50,Local-gov,199995,Bachelors,13,Divorced,Protective-serv,Not-in-family,White,Male,0,0,40,United-States,%3E50K%0A'''%0A%0Adf%20%3D%20pd.read_csv%28io.StringIO%28csv%29%29%0Aedu_filt%20%3D%20df%5B%22education%22%5D%20%3D%3D%20%22Bachelors%22%0Adf%5Bedu_filt%5D&amp;d=2022-03-01&amp;lang=py&amp;v=v1">this link</a> to see a visualization.</p>
<p>While the original dataset has 32561 records, the filtered one has only 5355 records. Since each record represents a person, these two numbers are precisely what we're looking for.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">edu_filt</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"education"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Bachelors"</span>
<span class="n">df</span><span class="p">[</span><span class="n">edu_filt</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Output" data-close="Show Output"></summary>
        <p>
</p>
<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

  <div id="df-cfdb83e1-752d-409e-a754-73b4a0cea0d0">
    <div class="colab-df-container">
      <div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>workclass</th>
      <th>fnlwgt</th>
      <th>education</th>
      <th>education-num</th>
      <th>marital-status</th>
      <th>occupation</th>
      <th>relationship</th>
      <th>race</th>
      <th>sex</th>
      <th>capital-gain</th>
      <th>capital-loss</th>
      <th>hours-per-week</th>
      <th>native-country</th>
      <th>salary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>39</td>
      <td>State-gov</td>
      <td>77516</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Never-married</td>
      <td>Adm-clerical</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Male</td>
      <td>2174</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>1</th>
      <td>50</td>
      <td>Self-emp-not-inc</td>
      <td>83311</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>13</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>4</th>
      <td>28</td>
      <td>Private</td>
      <td>338409</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Wife</td>
      <td>Black</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>Cuba</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>9</th>
      <td>42</td>
      <td>Private</td>
      <td>159449</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>5178</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>11</th>
      <td>30</td>
      <td>State-gov</td>
      <td>141297</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>32530</th>
      <td>35</td>
      <td>?</td>
      <td>320084</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>?</td>
      <td>Wife</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>55</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>32531</th>
      <td>30</td>
      <td>?</td>
      <td>33811</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Never-married</td>
      <td>?</td>
      <td>Not-in-family</td>
      <td>Asian-Pac-Islander</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>99</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>32533</th>
      <td>54</td>
      <td>Private</td>
      <td>337992</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>50</td>
      <td>Japan</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>32536</th>
      <td>34</td>
      <td>Private</td>
      <td>160216</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Never-married</td>
      <td>Exec-managerial</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>55</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>32538</th>
      <td>38</td>
      <td>Private</td>
      <td>139180</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Divorced</td>
      <td>Prof-specialty</td>
      <td>Unmarried</td>
      <td>Black</td>
      <td>Female</td>
      <td>15020</td>
      <td>0</td>
      <td>45</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
  </tbody>
</table>
<p>5355 rows × 15 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-cfdb83e1-752d-409e-a754-73b4a0cea0d0')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  &lt;svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px"&gt;
    <path d="M0 0h24v24H0V0z" fill="none"></path>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"></path><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"></path>
  &lt;/svg&gt;
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-cfdb83e1-752d-409e-a754-73b4a0cea0d0 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-cfdb83e1-752d-409e-a754-73b4a0cea0d0');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>

</div>

</div>
</div>

    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The number of records in a DataFrame object is accessible via the attribute <code>shape</code>, which returns a tuple of (number of records, number of columns). So here's how we arrive at the percentage we're after.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">percentage_bachelors</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">edu_filt</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Before rounding: </span><span class="si">{</span><span class="n">percentage_bachelors</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="n">percentage_bachelors</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">percentage_bachelors</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"After rounding: </span><span class="si">{</span><span class="n">percentage_bachelors</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Before rounding: 16.44605509658794
After rounding: 16.4
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Q4:-Percentage-of-people-with-advanced-education-who-make-more-than-50k">
<a class="anchor" href="#Q4:-Percentage-of-people-with-advanced-education-who-make-more-than-50k" aria-hidden="true"><span class="octicon octicon-link"></span></a>Q4: Percentage of people with advanced education who make more than 50k<a class="anchor-link" href="#Q4:-Percentage-of-people-with-advanced-education-who-make-more-than-50k"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As in the previous question, we need to filter the dataset by the <code>education</code> column. But this time around, we're filtering three values (<code>Bachelors</code>, <code>Masters</code>, and <code>Doctorate</code> for higher degrees) rather than just one. So, it'd be easier to create a Boolean filter by calling the <code>isin</code> method on <code>df</code> while providing a list of higher degrees as its argument. Let's save the filtered dataset as <code>higher_education</code>. Follow <a href="https://pandastutor.com/vis.html#code=import%20pandas%20as%20pd%0Aimport%20io%0A%0Acsv%20%3D%20'''%0Aage,workclass,fnlwgt,education,education-num,marital-status,occupation,relationship,race,sex,capital-gain,capital-loss,hours-per-week,native-country,salary%0A63,Private,102412,HS-grad,9,Divorced,Sales,Not-in-family,White,Female,0,0,40,United-States,%3C%3D50K%0A34,Private,734193,Some-college,10,Never-married,Exec-managerial,Not-in-family,White,Female,0,0,50,United-States,%3C%3D50K%0A52,Private,78012,HS-grad,9,Widowed,Sales,Unmarried,White,Female,0,1762,40,United-States,%3C%3D50K%0A20,%3F,150084,HS-grad,9,Never-married,%3F,Own-child,White,Male,0,0,25,United-States,%3C%3D50K%0A40,Self-emp-not-inc,34037,HS-grad,9,Never-married,Farming-fishing,Not-in-family,White,Male,0,0,70,United-States,%3C%3D50K%0A77,Private,235775,HS-grad,9,Married-civ-spouse,Other-service,Husband,White,Male,0,0,25,Cuba,%3C%3D50K%0A56,Private,139616,Bachelors,13,Divorced,Exec-managerial,Not-in-family,White,Male,0,0,45,United-States,%3E50K%0A50,Self-emp-not-inc,334273,Bachelors,13,Married-civ-spouse,Sales,Husband,White,Male,0,0,8,United-States,%3C%3D50K%0A31,Private,99844,HS-grad,9,Never-married,Craft-repair,Not-in-family,Amer-Indian-Eskimo,Male,0,0,45,United-States,%3C%3D50K%0A20,Private,231231,Some-college,10,Never-married,Sales,Not-in-family,White,Male,0,0,30,United-States,%3C%3D50K%0A18,Private,374969,10th,6,Never-married,Transport-moving,Not-in-family,White,Male,0,0,56,United-States,%3C%3D50K%0A32,Self-emp-inc,209691,Bachelors,13,Married-civ-spouse,Craft-repair,Husband,White,Male,0,0,50,Canada,%3C%3D50K%0A40,Private,406811,HS-grad,9,Separated,Exec-managerial,Unmarried,White,Female,0,0,40,Canada,%3C%3D50K%0A42,State-gov,436006,Some-college,10,Married-civ-spouse,Adm-clerical,Husband,Black,Male,0,0,40,United-States,%3C%3D50K%0A23,Private,189924,Some-college,10,Never-married,Other-service,Own-child,White,Female,0,0,40,United-States,%3C%3D50K%0A22,State-gov,311512,Some-college,10,Married-civ-spouse,Other-service,Husband,Black,Male,0,0,15,United-States,%3C%3D50K%0A44,Federal-gov,281739,Some-college,10,Never-married,Adm-clerical,Not-in-family,White,Male,13550,0,50,United-States,%3E50K%0A42,Self-emp-not-inc,82297,7th-8th,4,Married-civ-spouse,Other-service,Wife,Black,Female,0,0,50,United-States,%3C%3D50K%0A45,Private,341762,Masters,14,Married-civ-spouse,Exec-managerial,Husband,White,Male,0,0,65,United-States,%3E50K%0A50,Local-gov,199995,Bachelors,13,Divorced,Protective-serv,Not-in-family,White,Male,0,0,40,United-States,%3E50K%0A'''%0A%0Adf%20%3D%20pd.read_csv%28io.StringIO%28csv%29%29%0Ahigher_degrees%20%3D%20%5B%22Bachelors%22,%20%22Masters%22,%20%22Doctorate%22%5D%0Ahigher_education_filt%20%3D%20df%5B%22education%22%5D.isin%28higher_degrees%29%0Adf%5Bhigher_education_filt%5D&amp;d=2022-03-01&amp;lang=py&amp;v=v1">this link</a> to visualize the filtering process.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">higher_degrees</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"Bachelors"</span><span class="p">,</span> <span class="s2">"Masters"</span><span class="p">,</span> <span class="s2">"Doctorate"</span><span class="p">]</span>
<span class="n">higher_education_filt</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"education"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">higher_degrees</span><span class="p">)</span>
<span class="n">higher_education</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">higher_education_filt</span><span class="p">]</span>
<span class="n">higher_education</span>
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Output" data-close="Show Output"></summary>
        <p>
</p>
<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

  <div id="df-58b809ef-73c3-43fc-8747-ae0a86b69776">
    <div class="colab-df-container">
      <div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>workclass</th>
      <th>fnlwgt</th>
      <th>education</th>
      <th>education-num</th>
      <th>marital-status</th>
      <th>occupation</th>
      <th>relationship</th>
      <th>race</th>
      <th>sex</th>
      <th>capital-gain</th>
      <th>capital-loss</th>
      <th>hours-per-week</th>
      <th>native-country</th>
      <th>salary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>39</td>
      <td>State-gov</td>
      <td>77516</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Never-married</td>
      <td>Adm-clerical</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Male</td>
      <td>2174</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>1</th>
      <td>50</td>
      <td>Self-emp-not-inc</td>
      <td>83311</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>13</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>4</th>
      <td>28</td>
      <td>Private</td>
      <td>338409</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Wife</td>
      <td>Black</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>Cuba</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>5</th>
      <td>37</td>
      <td>Private</td>
      <td>284582</td>
      <td>Masters</td>
      <td>14</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Wife</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>8</th>
      <td>31</td>
      <td>Private</td>
      <td>45781</td>
      <td>Masters</td>
      <td>14</td>
      <td>Never-married</td>
      <td>Prof-specialty</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Female</td>
      <td>14084</td>
      <td>0</td>
      <td>50</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>32538</th>
      <td>38</td>
      <td>Private</td>
      <td>139180</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Divorced</td>
      <td>Prof-specialty</td>
      <td>Unmarried</td>
      <td>Black</td>
      <td>Female</td>
      <td>15020</td>
      <td>0</td>
      <td>45</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>32539</th>
      <td>71</td>
      <td>?</td>
      <td>287372</td>
      <td>Doctorate</td>
      <td>16</td>
      <td>Married-civ-spouse</td>
      <td>?</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>10</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>32544</th>
      <td>31</td>
      <td>Private</td>
      <td>199655</td>
      <td>Masters</td>
      <td>14</td>
      <td>Divorced</td>
      <td>Other-service</td>
      <td>Not-in-family</td>
      <td>Other</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>30</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>32553</th>
      <td>32</td>
      <td>Private</td>
      <td>116138</td>
      <td>Masters</td>
      <td>14</td>
      <td>Never-married</td>
      <td>Tech-support</td>
      <td>Not-in-family</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>11</td>
      <td>Taiwan</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>32554</th>
      <td>53</td>
      <td>Private</td>
      <td>321865</td>
      <td>Masters</td>
      <td>14</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
  </tbody>
</table>
<p>7491 rows × 15 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-58b809ef-73c3-43fc-8747-ae0a86b69776')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  &lt;svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px"&gt;
    <path d="M0 0h24v24H0V0z" fill="none"></path>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"></path><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"></path>
  &lt;/svg&gt;
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-58b809ef-73c3-43fc-8747-ae0a86b69776 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-58b809ef-73c3-43fc-8747-ae0a86b69776');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>

</div>

</div>
</div>

    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The number of records in <code>higher_education</code> is then the denominator of the fraction we're looking for. For the numerator, it'll be the number of records in <code>higher_education</code> that is additionally filtered by the <code>salary</code> column. So my first attempted solution was as follows.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">salary_filt</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"salary"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"&gt;50K"</span>
<span class="n">higher_education_rich</span> <span class="o">=</span> <span class="p">(</span><span class="n">higher_education</span><span class="p">[</span><span class="n">salary_filt</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">higher_education</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Before rounding: </span><span class="si">{</span><span class="n">higher_education_rich</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="n">higher_education_rich</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">higher_education_rich</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"After rounding: </span><span class="si">{</span><span class="n">higher_education_rich</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Before rounding: 46.535843011613935
After rounding: 46.5
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.7/dist-packages/ipykernel_launcher.py:2: UserWarning: Boolean Series key will be reindexed to match DataFrame index.
  
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Though I did get the correct percentage, a warning popped up saying that "Boolean Series key will be reindexed to match DataFrame index." I thought I could just ignore the warning, but the solution ended up failing the unittest 😞. I later figured out what might have caused the warning. It's probably because the keys of the <code>salary_filt</code> Series don't match up with the index of the <code>higher_education</code> DataFrame, as shown below.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">salary_filt</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"salary"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"&gt;50K"</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Keys of salary_filt &gt;&gt;&gt;"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">salary_filt</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Index of higher_education &gt;&gt;&gt;"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">higher_education</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Keys of salary_filt &gt;&gt;&gt;
RangeIndex(start=0, stop=32561, step=1)
Index of higher_education &gt;&gt;&gt;
Int64Index([    0,     1,     4,     5,     8,     9,    11,    12,    19,
               20,
            ...
            32530, 32531, 32532, 32533, 32536, 32538, 32539, 32544, 32553,
            32554],
           dtype='int64', length=7491)
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To fix the problem, I redefined <code>salary_filt</code> based on the filtered <code>higher_education</code> rather than the original <code>df</code>. This way, all the keys of <code>salary_filt</code> would be equal to the index of <code>higher_education</code>.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">salary_filt</span> <span class="o">=</span> <span class="n">higher_education</span><span class="p">[</span><span class="s2">"salary"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"&gt;50K"</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Keys of salary_filt match index of higher_education?"</span><span class="p">)</span>
<span class="nb">all</span><span class="p">(</span><span class="n">salary_filt</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="o">==</span> <span class="n">higher_education</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Keys of salary_filt match index of higher_education?
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Once the salary filter is fixed, the warning is gone 😎!</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">salary_filt</span> <span class="o">=</span> <span class="n">higher_education</span><span class="p">[</span><span class="s2">"salary"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"&gt;50K"</span>
<span class="n">higher_education_rich</span> <span class="o">=</span> <span class="p">(</span><span class="n">higher_education</span><span class="p">[</span><span class="n">salary_filt</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">higher_education</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Before rounding: </span><span class="si">{</span><span class="n">higher_education_rich</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="n">higher_education_rich</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">higher_education_rich</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"After rounding: </span><span class="si">{</span><span class="n">higher_education_rich</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Before rounding: 46.535843011613935
After rounding: 46.5
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Q5:-Percentage-of-people-without-advanced-education-who-make-more-than-50k">
<a class="anchor" href="#Q5:-Percentage-of-people-without-advanced-education-who-make-more-than-50k" aria-hidden="true"><span class="octicon octicon-link"></span></a>Q5: Percentage of people without advanced education who make more than 50k<a class="anchor-link" href="#Q5:-Percentage-of-people-without-advanced-education-who-make-more-than-50k"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The logic for this question is pretty much like that for the previous one, except that we'll first filter out people <strong>without</strong> higher degrees rather than those with them. To negate the Boolean filter <code>higher_education_filt</code>, we just need to add the <code>~</code> symbol in front of it. To see a visualization of the filtering process, follow <a href="https://pandastutor.com/vis.html#code=import%20pandas%20as%20pd%0Aimport%20io%0A%0Acsv%20%3D%20'''%0Aage,workclass,fnlwgt,education,education-num,marital-status,occupation,relationship,race,sex,capital-gain,capital-loss,hours-per-week,native-country,salary%0A63,Private,102412,HS-grad,9,Divorced,Sales,Not-in-family,White,Female,0,0,40,United-States,%3C%3D50K%0A34,Private,734193,Some-college,10,Never-married,Exec-managerial,Not-in-family,White,Female,0,0,50,United-States,%3C%3D50K%0A52,Private,78012,HS-grad,9,Widowed,Sales,Unmarried,White,Female,0,1762,40,United-States,%3C%3D50K%0A20,%3F,150084,HS-grad,9,Never-married,%3F,Own-child,White,Male,0,0,25,United-States,%3C%3D50K%0A40,Self-emp-not-inc,34037,HS-grad,9,Never-married,Farming-fishing,Not-in-family,White,Male,0,0,70,United-States,%3C%3D50K%0A77,Private,235775,HS-grad,9,Married-civ-spouse,Other-service,Husband,White,Male,0,0,25,Cuba,%3C%3D50K%0A56,Private,139616,Bachelors,13,Divorced,Exec-managerial,Not-in-family,White,Male,0,0,45,United-States,%3E50K%0A50,Self-emp-not-inc,334273,Bachelors,13,Married-civ-spouse,Sales,Husband,White,Male,0,0,8,United-States,%3C%3D50K%0A31,Private,99844,HS-grad,9,Never-married,Craft-repair,Not-in-family,Amer-Indian-Eskimo,Male,0,0,45,United-States,%3C%3D50K%0A20,Private,231231,Some-college,10,Never-married,Sales,Not-in-family,White,Male,0,0,30,United-States,%3C%3D50K%0A18,Private,374969,10th,6,Never-married,Transport-moving,Not-in-family,White,Male,0,0,56,United-States,%3C%3D50K%0A32,Self-emp-inc,209691,Bachelors,13,Married-civ-spouse,Craft-repair,Husband,White,Male,0,0,50,Canada,%3C%3D50K%0A40,Private,406811,HS-grad,9,Separated,Exec-managerial,Unmarried,White,Female,0,0,40,Canada,%3C%3D50K%0A42,State-gov,436006,Some-college,10,Married-civ-spouse,Adm-clerical,Husband,Black,Male,0,0,40,United-States,%3C%3D50K%0A23,Private,189924,Some-college,10,Never-married,Other-service,Own-child,White,Female,0,0,40,United-States,%3C%3D50K%0A22,State-gov,311512,Some-college,10,Married-civ-spouse,Other-service,Husband,Black,Male,0,0,15,United-States,%3C%3D50K%0A44,Federal-gov,281739,Some-college,10,Never-married,Adm-clerical,Not-in-family,White,Male,13550,0,50,United-States,%3E50K%0A42,Self-emp-not-inc,82297,7th-8th,4,Married-civ-spouse,Other-service,Wife,Black,Female,0,0,50,United-States,%3C%3D50K%0A45,Private,341762,Masters,14,Married-civ-spouse,Exec-managerial,Husband,White,Male,0,0,65,United-States,%3E50K%0A50,Local-gov,199995,Bachelors,13,Divorced,Protective-serv,Not-in-family,White,Male,0,0,40,United-States,%3E50K%0A'''%0A%0Adf%20%3D%20pd.read_csv%28io.StringIO%28csv%29%29%0Ahigher_degrees%20%3D%20%5B%22Bachelors%22,%20%22Masters%22,%20%22Doctorate%22%5D%0Ahigher_education_filt%20%3D%20df%5B%22education%22%5D.isin%28higher_degrees%29%0Adf%5B~%20higher_education_filt%5D&amp;d=2022-03-08&amp;lang=py&amp;v=v1">this link</a>.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">lower_education</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="o">~</span> <span class="n">higher_education_filt</span><span class="p">]</span>
<span class="n">lower_education</span>
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Output" data-close="Show Output"></summary>
        <p>
</p>
<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

  <div id="df-c12b1f97-dd2a-419e-b5bd-9e2e453b61da">
    <div class="colab-df-container">
      <div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>workclass</th>
      <th>fnlwgt</th>
      <th>education</th>
      <th>education-num</th>
      <th>marital-status</th>
      <th>occupation</th>
      <th>relationship</th>
      <th>race</th>
      <th>sex</th>
      <th>capital-gain</th>
      <th>capital-loss</th>
      <th>hours-per-week</th>
      <th>native-country</th>
      <th>salary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>38</td>
      <td>Private</td>
      <td>215646</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Divorced</td>
      <td>Handlers-cleaners</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>3</th>
      <td>53</td>
      <td>Private</td>
      <td>234721</td>
      <td>11th</td>
      <td>7</td>
      <td>Married-civ-spouse</td>
      <td>Handlers-cleaners</td>
      <td>Husband</td>
      <td>Black</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>6</th>
      <td>49</td>
      <td>Private</td>
      <td>160187</td>
      <td>9th</td>
      <td>5</td>
      <td>Married-spouse-absent</td>
      <td>Other-service</td>
      <td>Not-in-family</td>
      <td>Black</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>16</td>
      <td>Jamaica</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>7</th>
      <td>52</td>
      <td>Self-emp-not-inc</td>
      <td>209642</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>45</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>10</th>
      <td>37</td>
      <td>Private</td>
      <td>280464</td>
      <td>Some-college</td>
      <td>10</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>Black</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>80</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>32556</th>
      <td>27</td>
      <td>Private</td>
      <td>257302</td>
      <td>Assoc-acdm</td>
      <td>12</td>
      <td>Married-civ-spouse</td>
      <td>Tech-support</td>
      <td>Wife</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>38</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>32557</th>
      <td>40</td>
      <td>Private</td>
      <td>154374</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Married-civ-spouse</td>
      <td>Machine-op-inspct</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>32558</th>
      <td>58</td>
      <td>Private</td>
      <td>151910</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Widowed</td>
      <td>Adm-clerical</td>
      <td>Unmarried</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>32559</th>
      <td>22</td>
      <td>Private</td>
      <td>201490</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Never-married</td>
      <td>Adm-clerical</td>
      <td>Own-child</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>20</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>32560</th>
      <td>52</td>
      <td>Self-emp-inc</td>
      <td>287927</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Wife</td>
      <td>White</td>
      <td>Female</td>
      <td>15024</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
  </tbody>
</table>
<p>25070 rows × 15 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-c12b1f97-dd2a-419e-b5bd-9e2e453b61da')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  &lt;svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px"&gt;
    <path d="M0 0h24v24H0V0z" fill="none"></path>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"></path><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"></path>
  &lt;/svg&gt;
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-c12b1f97-dd2a-419e-b5bd-9e2e453b61da button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-c12b1f97-dd2a-419e-b5bd-9e2e453b61da');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>

</div>

</div>
</div>

    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now that we've got <code>lower_education</code>, we can use a salary filter as before to get a subset of <code>lower_education</code>, which, when divided by the total set, gives us the percentage we're looking for.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">salary_filt</span> <span class="o">=</span> <span class="n">lower_education</span><span class="p">[</span><span class="s2">"salary"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"&gt;50K"</span>
<span class="n">lower_education_rich</span> <span class="o">=</span> <span class="p">(</span><span class="n">lower_education</span><span class="p">[</span><span class="n">salary_filt</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">lower_education</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Before rounding: </span><span class="si">{</span><span class="n">lower_education_rich</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="n">lower_education_rich</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">lower_education_rich</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"After rounding: </span><span class="si">{</span><span class="n">lower_education_rich</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Before rounding: 17.3713601914639
After rounding: 17.4
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Q6:-Minimum-hours-per-week">
<a class="anchor" href="#Q6:-Minimum-hours-per-week" aria-hidden="true"><span class="octicon octicon-link"></span></a>Q6: Minimum hours per week<a class="anchor-link" href="#Q6:-Minimum-hours-per-week"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This question is the easiest of all. We simply grab the <code>hours-per-week</code> Series, and find out the minimal value in it by calling the methond <code>min</code> on it. The value is saved as <code>min_work_hours</code> for later use.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">min_work_hours</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"hours-per-week"</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">min_work_hours</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>1</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Q7:-Percentage-of-people-working-minimum-hours-per-week-who-make-more-than-50k">
<a class="anchor" href="#Q7:-Percentage-of-people-working-minimum-hours-per-week-who-make-more-than-50k" aria-hidden="true"><span class="octicon octicon-link"></span></a>Q7: Percentage of people working minimum hours per week who make more than 50k<a class="anchor-link" href="#Q7:-Percentage-of-people-working-minimum-hours-per-week-who-make-more-than-50k"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Given <code>min_work_hours</code>, we can use a filter, named <code>hour_filt</code>, to filter out people who work minimum hours per week, a subset saved as <code>min_hour_workers</code>.
<a href="https://pandastutor.com/vis.html#code=import%20pandas%20as%20pd%0Aimport%20io%0A%0Acsv%20%3D%20'''%0Aage,workclass,fnlwgt,education,education-num,marital-status,occupation,relationship,race,sex,capital-gain,capital-loss,hours-per-week,native-country,salary%0A63,Private,102412,HS-grad,9,Divorced,Sales,Not-in-family,White,Female,0,0,40,United-States,%3C%3D50K%0A34,Private,734193,Some-college,10,Never-married,Exec-managerial,Not-in-family,White,Female,0,0,50,United-States,%3C%3D50K%0A52,Private,78012,HS-grad,9,Widowed,Sales,Unmarried,White,Female,0,1762,40,United-States,%3C%3D50K%0A20,%3F,150084,HS-grad,9,Never-married,%3F,Own-child,White,Male,0,0,25,United-States,%3C%3D50K%0A40,Self-emp-not-inc,34037,HS-grad,9,Never-married,Farming-fishing,Not-in-family,White,Male,0,0,70,United-States,%3C%3D50K%0A77,Private,235775,HS-grad,9,Married-civ-spouse,Other-service,Husband,White,Male,0,0,25,Cuba,%3C%3D50K%0A56,Private,139616,Bachelors,13,Divorced,Exec-managerial,Not-in-family,White,Male,0,0,45,United-States,%3E50K%0A50,Self-emp-not-inc,334273,Bachelors,13,Married-civ-spouse,Sales,Husband,White,Male,0,0,8,United-States,%3C%3D50K%0A31,Private,99844,HS-grad,9,Never-married,Craft-repair,Not-in-family,Amer-Indian-Eskimo,Male,0,0,45,United-States,%3C%3D50K%0A20,Private,231231,Some-college,10,Never-married,Sales,Not-in-family,White,Male,0,0,30,United-States,%3C%3D50K%0A18,Private,374969,10th,6,Never-married,Transport-moving,Not-in-family,White,Male,0,0,56,United-States,%3C%3D50K%0A32,Self-emp-inc,209691,Bachelors,13,Married-civ-spouse,Craft-repair,Husband,White,Male,0,0,50,Canada,%3C%3D50K%0A40,Private,406811,HS-grad,9,Separated,Exec-managerial,Unmarried,White,Female,0,0,40,Canada,%3C%3D50K%0A42,State-gov,436006,Some-college,10,Married-civ-spouse,Adm-clerical,Husband,Black,Male,0,0,40,United-States,%3C%3D50K%0A23,Private,189924,Some-college,10,Never-married,Other-service,Own-child,White,Female,0,0,40,United-States,%3C%3D50K%0A22,State-gov,311512,Some-college,10,Married-civ-spouse,Other-service,Husband,Black,Male,0,0,15,United-States,%3C%3D50K%0A44,Federal-gov,281739,Some-college,10,Never-married,Adm-clerical,Not-in-family,White,Male,13550,0,50,United-States,%3E50K%0A42,Self-emp-not-inc,82297,7th-8th,4,Married-civ-spouse,Other-service,Wife,Black,Female,0,0,50,United-States,%3C%3D50K%0A45,Private,341762,Masters,14,Married-civ-spouse,Exec-managerial,Husband,White,Male,0,0,65,United-States,%3E50K%0A50,Local-gov,199995,Bachelors,13,Divorced,Protective-serv,Not-in-family,White,Male,0,0,40,United-States,%3E50K%0A'''%0A%0Adf%20%3D%20pd.read_csv%28io.StringIO%28csv%29%29%0Amin_work_hours%20%3D%20df%5B%22hours-per-week%22%5D.min%28%29%0Ahour_filt%20%3D%20df%5B%22hours-per-week%22%5D%20%3D%3D%20min_work_hours%0Adf%5Bhour_filt%5D&amp;d=2022-03-08&amp;lang=py&amp;v=v1">This link</a> shows how the filtered subset is created.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">hour_filt</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"hours-per-week"</span><span class="p">]</span> <span class="o">==</span> <span class="n">min_work_hours</span>
<span class="n">min_hour_workers</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">hour_filt</span><span class="p">]</span>
<span class="n">min_hour_workers</span>
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Output" data-close="Show Output"></summary>
        <p>
</p>
<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

  <div id="df-fac0d140-a4d5-435b-8097-c363f58c90b2">
    <div class="colab-df-container">
      <div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>workclass</th>
      <th>fnlwgt</th>
      <th>education</th>
      <th>education-num</th>
      <th>marital-status</th>
      <th>occupation</th>
      <th>relationship</th>
      <th>race</th>
      <th>sex</th>
      <th>capital-gain</th>
      <th>capital-loss</th>
      <th>hours-per-week</th>
      <th>native-country</th>
      <th>salary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>189</th>
      <td>58</td>
      <td>State-gov</td>
      <td>109567</td>
      <td>Doctorate</td>
      <td>16</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>1036</th>
      <td>66</td>
      <td>Self-emp-inc</td>
      <td>150726</td>
      <td>9th</td>
      <td>5</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>1409</td>
      <td>0</td>
      <td>1</td>
      <td>?</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>1262</th>
      <td>69</td>
      <td>?</td>
      <td>195779</td>
      <td>Assoc-voc</td>
      <td>11</td>
      <td>Widowed</td>
      <td>?</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>5590</th>
      <td>78</td>
      <td>?</td>
      <td>363134</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Widowed</td>
      <td>?</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>5632</th>
      <td>45</td>
      <td>?</td>
      <td>189564</td>
      <td>Masters</td>
      <td>14</td>
      <td>Married-civ-spouse</td>
      <td>?</td>
      <td>Wife</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>5766</th>
      <td>62</td>
      <td>?</td>
      <td>97231</td>
      <td>Some-college</td>
      <td>10</td>
      <td>Married-civ-spouse</td>
      <td>?</td>
      <td>Wife</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>5808</th>
      <td>76</td>
      <td>?</td>
      <td>211574</td>
      <td>10th</td>
      <td>6</td>
      <td>Married-civ-spouse</td>
      <td>?</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>8447</th>
      <td>67</td>
      <td>?</td>
      <td>244122</td>
      <td>Assoc-voc</td>
      <td>11</td>
      <td>Widowed</td>
      <td>?</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>9147</th>
      <td>75</td>
      <td>?</td>
      <td>260543</td>
      <td>10th</td>
      <td>6</td>
      <td>Widowed</td>
      <td>?</td>
      <td>Other-relative</td>
      <td>Asian-Pac-Islander</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>China</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>11451</th>
      <td>27</td>
      <td>Private</td>
      <td>147951</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Never-married</td>
      <td>Machine-op-inspct</td>
      <td>Other-relative</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>19337</th>
      <td>72</td>
      <td>?</td>
      <td>76860</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Married-civ-spouse</td>
      <td>?</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>19750</th>
      <td>23</td>
      <td>Private</td>
      <td>72887</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Never-married</td>
      <td>Craft-repair</td>
      <td>Own-child</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>Vietnam</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>20072</th>
      <td>65</td>
      <td>?</td>
      <td>76043</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Married-civ-spouse</td>
      <td>?</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>20909</th>
      <td>77</td>
      <td>Self-emp-not-inc</td>
      <td>71676</td>
      <td>Some-college</td>
      <td>10</td>
      <td>Widowed</td>
      <td>Adm-clerical</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>1944</td>
      <td>1</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>22960</th>
      <td>21</td>
      <td>Private</td>
      <td>184135</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Never-married</td>
      <td>Machine-op-inspct</td>
      <td>Own-child</td>
      <td>Black</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>23536</th>
      <td>69</td>
      <td>?</td>
      <td>320280</td>
      <td>Some-college</td>
      <td>10</td>
      <td>Never-married</td>
      <td>?</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Male</td>
      <td>1848</td>
      <td>0</td>
      <td>1</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>24284</th>
      <td>57</td>
      <td>Self-emp-not-inc</td>
      <td>56480</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>25078</th>
      <td>74</td>
      <td>Private</td>
      <td>260669</td>
      <td>10th</td>
      <td>6</td>
      <td>Divorced</td>
      <td>Other-service</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>29752</th>
      <td>69</td>
      <td>?</td>
      <td>117525</td>
      <td>Assoc-acdm</td>
      <td>12</td>
      <td>Divorced</td>
      <td>?</td>
      <td>Unmarried</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>32525</th>
      <td>81</td>
      <td>?</td>
      <td>120478</td>
      <td>Assoc-voc</td>
      <td>11</td>
      <td>Divorced</td>
      <td>?</td>
      <td>Unmarried</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>?</td>
      <td>&lt;=50K</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-fac0d140-a4d5-435b-8097-c363f58c90b2')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  &lt;svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px"&gt;
    <path d="M0 0h24v24H0V0z" fill="none"></path>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"></path><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"></path>
  &lt;/svg&gt;
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-fac0d140-a4d5-435b-8097-c363f58c90b2 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-fac0d140-a4d5-435b-8097-c363f58c90b2');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>

</div>

</div>
</div>

    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, let's create a salary filter based on <code>min_hour_workers</code>. The number of records in <code>min_hour_workers</code> <strong>with</strong> the filter divided by the number <strong>without</strong> it times 100 produces the answer, which is saved as <code>rich_percentage</code>.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">salary_filt</span> <span class="o">=</span> <span class="n">min_hour_workers</span><span class="p">[</span><span class="s2">"salary"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"&gt;50K"</span>
<span class="n">rich_percentage</span> <span class="o">=</span> <span class="p">(</span><span class="n">min_hour_workers</span><span class="p">[</span><span class="n">salary_filt</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">min_hour_workers</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Before rounding: </span><span class="si">{</span><span class="n">rich_percentage</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="n">rich_percentage</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">rich_percentage</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"After rounding: </span><span class="si">{</span><span class="n">rich_percentage</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Before rounding: 10.0
After rounding: 10.0
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Q8:-Country-with-the-highest-percentage-of-people-who-make-more-than-50k">
<a class="anchor" href="#Q8:-Country-with-the-highest-percentage-of-people-who-make-more-than-50k" aria-hidden="true"><span class="octicon octicon-link"></span></a>Q8: Country with the highest percentage of people who make more than 50k<a class="anchor-link" href="#Q8:-Country-with-the-highest-percentage-of-people-who-make-more-than-50k"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This question is perhaps the most challenging of all. My initial move was to create a GroupBy object first selected by by <code>native-country</code> then by <code>salary</code>, and call the <code>size</code> method on it. This would produce a Series of counts for <code>&lt;=50K</code> and <code>&gt;50K</code> in each country, as follows. Go to <a href="https://pandastutor.com/vis.html#code=import%20pandas%20as%20pd%0Aimport%20io%0A%0Acsv%20%3D%20'''%0Aage,workclass,fnlwgt,education,education-num,marital-status,occupation,relationship,race,sex,capital-gain,capital-loss,hours-per-week,native-country,salary%0A63,Private,102412,HS-grad,9,Divorced,Sales,Not-in-family,White,Female,0,0,40,United-States,%3C%3D50K%0A34,Private,734193,Some-college,10,Never-married,Exec-managerial,Not-in-family,White,Female,0,0,50,United-States,%3C%3D50K%0A52,Private,78012,HS-grad,9,Widowed,Sales,Unmarried,White,Female,0,1762,40,United-States,%3C%3D50K%0A20,%3F,150084,HS-grad,9,Never-married,%3F,Own-child,White,Male,0,0,25,United-States,%3C%3D50K%0A40,Self-emp-not-inc,34037,HS-grad,9,Never-married,Farming-fishing,Not-in-family,White,Male,0,0,70,United-States,%3C%3D50K%0A77,Private,235775,HS-grad,9,Married-civ-spouse,Other-service,Husband,White,Male,0,0,25,Cuba,%3C%3D50K%0A56,Private,139616,Bachelors,13,Divorced,Exec-managerial,Not-in-family,White,Male,0,0,45,United-States,%3E50K%0A50,Self-emp-not-inc,334273,Bachelors,13,Married-civ-spouse,Sales,Husband,White,Male,0,0,8,United-States,%3C%3D50K%0A31,Private,99844,HS-grad,9,Never-married,Craft-repair,Not-in-family,Amer-Indian-Eskimo,Male,0,0,45,United-States,%3C%3D50K%0A20,Private,231231,Some-college,10,Never-married,Sales,Not-in-family,White,Male,0,0,30,United-States,%3C%3D50K%0A18,Private,374969,10th,6,Never-married,Transport-moving,Not-in-family,White,Male,0,0,56,United-States,%3C%3D50K%0A32,Self-emp-inc,209691,Bachelors,13,Married-civ-spouse,Craft-repair,Husband,White,Male,0,0,50,Canada,%3C%3D50K%0A40,Private,406811,HS-grad,9,Separated,Exec-managerial,Unmarried,White,Female,0,0,40,Canada,%3C%3D50K%0A42,State-gov,436006,Some-college,10,Married-civ-spouse,Adm-clerical,Husband,Black,Male,0,0,40,United-States,%3C%3D50K%0A23,Private,189924,Some-college,10,Never-married,Other-service,Own-child,White,Female,0,0,40,United-States,%3C%3D50K%0A22,State-gov,311512,Some-college,10,Married-civ-spouse,Other-service,Husband,Black,Male,0,0,15,United-States,%3C%3D50K%0A44,Federal-gov,281739,Some-college,10,Never-married,Adm-clerical,Not-in-family,White,Male,13550,0,50,United-States,%3E50K%0A42,Self-emp-not-inc,82297,7th-8th,4,Married-civ-spouse,Other-service,Wife,Black,Female,0,0,50,United-States,%3C%3D50K%0A45,Private,341762,Masters,14,Married-civ-spouse,Exec-managerial,Husband,White,Male,0,0,65,United-States,%3E50K%0A50,Local-gov,199995,Bachelors,13,Divorced,Protective-serv,Not-in-family,White,Male,0,0,40,United-States,%3E50K%0A'''%0A%0Adf%20%3D%20pd.read_csv%28io.StringIO%28csv%29%29%0Adf.groupby%28%5B%22native-country%22,%20%22salary%22%5D%29.size%28%29&amp;d=2022-03-08&amp;lang=py&amp;v=v1">this page</a> to see this process in action.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">"native-country"</span><span class="p">,</span> <span class="s2">"salary"</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>native-country  salary
?               &lt;=50K      437
                &gt;50K       146
Cambodia        &lt;=50K       12
                &gt;50K         7
Canada          &lt;=50K       82
                          ... 
United-States   &gt;50K      7171
Vietnam         &lt;=50K       62
                &gt;50K         5
Yugoslavia      &lt;=50K       10
                &gt;50K         6
Length: 82, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>But then it's cubersome to get the percentage of the counts for <code>&gt;50K</code> over total counts in each country. The solution I submited for the first time worked, but it was not neat enough. After tackling the problem on a different occasion, I came up with a cleaner solution, to be explained below.</p>
<p>Let's forget about the breakdown of percentages by countries for the time being, and work out a way to get the percentage for all the dataset. Calling the <code>value_counts</code> method on the <code>salary</code> Series creates another Series with unique values in it as keys and their counts as the corresponding values. Let's name it <code>salary_counts</code>.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">salary_counts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"salary"</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">salary_counts</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;=50K    24720
&gt;50K      7841
Name: salary, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we can retrieve the number of people who make more than 50K by using the bracket notation.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">salary_counts</span><span class="p">[</span><span class="s2">"&gt;50K"</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>7841</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For the total number of people, we can just call the <code>sum</code> method on the <code>salary_counts</code> Series.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">salary_counts</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>32561</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>With the two numbers in place, we're now ready to calculate the percentage, which is named <code>rich_percentage</code>.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">rich_percentage</span> <span class="o">=</span> <span class="p">(</span><span class="n">salary_counts</span><span class="p">[</span><span class="s2">"&gt;50K"</span><span class="p">]</span><span class="o">/</span><span class="n">salary_counts</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span> <span class="o">*</span> <span class="mi">100</span>
<span class="n">rich_percentage</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>24.080955744602438</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, to replicate what we just did, let's create a function named <code>get_rich_percentage</code>, which takes the <code>salary</code> Series as its argument and returns the percentage of people who make more than 50K.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="k">def</span> <span class="nf">get_rich_percentage</span><span class="p">(</span><span class="n">salary_series</span><span class="p">):</span>
    <span class="n">salary_counts</span> <span class="o">=</span> <span class="n">salary_series</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
    <span class="n">res</span> <span class="o">=</span> <span class="p">(</span><span class="n">salary_counts</span><span class="p">[</span><span class="s2">"&gt;50K"</span><span class="p">]</span><span class="o">/</span><span class="n">salary_counts</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="k">return</span> <span class="n">res</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A test on the function gives us the expected number.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">get_rich_percentage</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"salary"</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>24.080955744602438</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Then, we apply the <code>get_rich_percentage</code> function to each group of a GroupBy object named <code>by_country</code>, which is selected by the <code>native-country</code> column. The outcome, saved as <code>rich_percentage_by_country</code>, would have been a Series of percentages across countries, were it not for the <code>KeyError</code> I got 😞.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">by_country</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"native-country"</span><span class="p">)</span>
<span class="n">rich_percentage_by_country</span> <span class="o">=</span> <span class="n">by_country</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">group</span><span class="p">:</span> <span class="n">get_rich_percentage</span><span class="p">(</span><span class="n">group</span><span class="p">[</span><span class="s2">"salary"</span><span class="p">]))</span>
<span class="n">rich_percentage_by_country</span>
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Output" data-close="Show Output"></summary>
        <p>
</p>
<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">KeyError</span>                                  Traceback (most recent call last)
<span class="ansi-green-fg">/usr/local/lib/python3.7/dist-packages/pandas/core/indexes/base.py</span> in <span class="ansi-cyan-fg">get_loc</span><span class="ansi-blue-fg">(self, key, method, tolerance)</span>
<span class="ansi-green-intense-fg ansi-bold">   3360</span>             <span class="ansi-green-fg">try</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">-&gt; 3361</span><span class="ansi-red-fg">                 </span><span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_engine<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>casted_key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   3362</span>             <span class="ansi-green-fg">except</span> KeyError <span class="ansi-green-fg">as</span> err<span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">/usr/local/lib/python3.7/dist-packages/pandas/_libs/index.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.index.IndexEngine.get_loc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">/usr/local/lib/python3.7/dist-packages/pandas/_libs/index.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.index.IndexEngine.get_loc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ansi-cyan-fg">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ansi-cyan-fg">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="ansi-blue-fg">()</span>

<span class="ansi-red-fg">KeyError</span>: '&gt;50K'

The above exception was the direct cause of the following exception:

<span class="ansi-red-fg">KeyError</span>                                  Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-44-34911dd4f740&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>df<span class="ansi-blue-fg">.</span>groupby<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">"native-country"</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">.</span>apply<span class="ansi-blue-fg">(</span><span class="ansi-green-fg">lambda</span> group<span class="ansi-blue-fg">:</span> get_rich_percentage<span class="ansi-blue-fg">(</span>group<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">"salary"</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">/usr/local/lib/python3.7/dist-packages/pandas/core/groupby/groupby.py</span> in <span class="ansi-cyan-fg">apply</span><span class="ansi-blue-fg">(self, func, *args, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">   1273</span>         <span class="ansi-green-fg">with</span> option_context<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">"mode.chained_assignment"</span><span class="ansi-blue-fg">,</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   1274</span>             <span class="ansi-green-fg">try</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">-&gt; 1275</span><span class="ansi-red-fg">                 </span>result <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>_python_apply_general<span class="ansi-blue-fg">(</span>f<span class="ansi-blue-fg">,</span> self<span class="ansi-blue-fg">.</span>_selected_obj<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1276</span>             <span class="ansi-green-fg">except</span> TypeError<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   1277</span>                 <span class="ansi-red-fg"># gh-20949</span>

<span class="ansi-green-fg">/usr/local/lib/python3.7/dist-packages/pandas/core/groupby/groupby.py</span> in <span class="ansi-cyan-fg">_python_apply_general</span><span class="ansi-blue-fg">(self, f, data)</span>
<span class="ansi-green-intense-fg ansi-bold">   1307</span>             data after applying f
<span class="ansi-green-intense-fg ansi-bold">   1308</span>         """
<span class="ansi-green-fg">-&gt; 1309</span><span class="ansi-red-fg">         </span>keys<span class="ansi-blue-fg">,</span> values<span class="ansi-blue-fg">,</span> mutated <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>grouper<span class="ansi-blue-fg">.</span>apply<span class="ansi-blue-fg">(</span>f<span class="ansi-blue-fg">,</span> data<span class="ansi-blue-fg">,</span> self<span class="ansi-blue-fg">.</span>axis<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1310</span> 
<span class="ansi-green-intense-fg ansi-bold">   1311</span>         return self._wrap_applied_output(

<span class="ansi-green-fg">/usr/local/lib/python3.7/dist-packages/pandas/core/groupby/ops.py</span> in <span class="ansi-cyan-fg">apply</span><span class="ansi-blue-fg">(self, f, data, axis)</span>
<span class="ansi-green-intense-fg ansi-bold">    813</span>             <span class="ansi-green-fg">try</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    814</span>                 sdata <span class="ansi-blue-fg">=</span> splitter<span class="ansi-blue-fg">.</span>sorted_data
<span class="ansi-green-fg">--&gt; 815</span><span class="ansi-red-fg">                 </span>result_values<span class="ansi-blue-fg">,</span> mutated <span class="ansi-blue-fg">=</span> splitter<span class="ansi-blue-fg">.</span>fast_apply<span class="ansi-blue-fg">(</span>f<span class="ansi-blue-fg">,</span> sdata<span class="ansi-blue-fg">,</span> group_keys<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    816</span> 
<span class="ansi-green-intense-fg ansi-bold">    817</span>             <span class="ansi-green-fg">except</span> IndexError<span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">/usr/local/lib/python3.7/dist-packages/pandas/core/groupby/ops.py</span> in <span class="ansi-cyan-fg">fast_apply</span><span class="ansi-blue-fg">(self, f, sdata, names)</span>
<span class="ansi-green-intense-fg ansi-bold">   1358</span>         <span class="ansi-red-fg"># must return keys::list, values::list, mutated::bool</span>
<span class="ansi-green-intense-fg ansi-bold">   1359</span>         starts<span class="ansi-blue-fg">,</span> ends <span class="ansi-blue-fg">=</span> lib<span class="ansi-blue-fg">.</span>generate_slices<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>slabels<span class="ansi-blue-fg">,</span> self<span class="ansi-blue-fg">.</span>ngroups<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">-&gt; 1360</span><span class="ansi-red-fg">         </span><span class="ansi-green-fg">return</span> libreduction<span class="ansi-blue-fg">.</span>apply_frame_axis0<span class="ansi-blue-fg">(</span>sdata<span class="ansi-blue-fg">,</span> f<span class="ansi-blue-fg">,</span> names<span class="ansi-blue-fg">,</span> starts<span class="ansi-blue-fg">,</span> ends<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1361</span> 
<span class="ansi-green-intense-fg ansi-bold">   1362</span>     <span class="ansi-green-fg">def</span> _chop<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">,</span> sdata<span class="ansi-blue-fg">:</span> DataFrame<span class="ansi-blue-fg">,</span> slice_obj<span class="ansi-blue-fg">:</span> slice<span class="ansi-blue-fg">)</span> <span class="ansi-blue-fg">-&gt;</span> DataFrame<span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">/usr/local/lib/python3.7/dist-packages/pandas/_libs/reduction.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.reduction.apply_frame_axis0</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">&lt;ipython-input-44-34911dd4f740&gt;</span> in <span class="ansi-cyan-fg">&lt;lambda&gt;</span><span class="ansi-blue-fg">(group)</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>df<span class="ansi-blue-fg">.</span>groupby<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">"native-country"</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">.</span>apply<span class="ansi-blue-fg">(</span><span class="ansi-green-fg">lambda</span> group<span class="ansi-blue-fg">:</span> get_rich_percentage<span class="ansi-blue-fg">(</span>group<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">"salary"</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">&lt;ipython-input-42-95f3068a1aa3&gt;</span> in <span class="ansi-cyan-fg">get_rich_percentage</span><span class="ansi-blue-fg">(salary_series)</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> <span class="ansi-green-fg">def</span> get_rich_percentage<span class="ansi-blue-fg">(</span>salary_series<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span>     salary_counts <span class="ansi-blue-fg">=</span> salary_series<span class="ansi-blue-fg">.</span>value_counts<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">----&gt; 3</span><span class="ansi-red-fg">     </span>res <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">(</span>salary_counts<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">"&gt;50K"</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">/</span>salary_counts<span class="ansi-blue-fg">.</span>sum<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span> <span class="ansi-blue-fg">*</span> <span class="ansi-cyan-fg">100</span>
<span class="ansi-green-intense-fg ansi-bold">      4</span>     <span class="ansi-green-fg">return</span> res

<span class="ansi-green-fg">/usr/local/lib/python3.7/dist-packages/pandas/core/series.py</span> in <span class="ansi-cyan-fg">__getitem__</span><span class="ansi-blue-fg">(self, key)</span>
<span class="ansi-green-intense-fg ansi-bold">    940</span> 
<span class="ansi-green-intense-fg ansi-bold">    941</span>         <span class="ansi-green-fg">elif</span> key_is_scalar<span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 942</span><span class="ansi-red-fg">             </span><span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_get_value<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    943</span> 
<span class="ansi-green-intense-fg ansi-bold">    944</span>         <span class="ansi-green-fg">if</span> is_hashable<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">/usr/local/lib/python3.7/dist-packages/pandas/core/series.py</span> in <span class="ansi-cyan-fg">_get_value</span><span class="ansi-blue-fg">(self, label, takeable)</span>
<span class="ansi-green-intense-fg ansi-bold">   1049</span> 
<span class="ansi-green-intense-fg ansi-bold">   1050</span>         <span class="ansi-red-fg"># Similar to Index.get_value, but we do not fall back to positional</span>
<span class="ansi-green-fg">-&gt; 1051</span><span class="ansi-red-fg">         </span>loc <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>index<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>label<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1052</span>         <span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>index<span class="ansi-blue-fg">.</span>_get_values_for_loc<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">,</span> loc<span class="ansi-blue-fg">,</span> label<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1053</span> 

<span class="ansi-green-fg">/usr/local/lib/python3.7/dist-packages/pandas/core/indexes/base.py</span> in <span class="ansi-cyan-fg">get_loc</span><span class="ansi-blue-fg">(self, key, method, tolerance)</span>
<span class="ansi-green-intense-fg ansi-bold">   3361</span>                 <span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_engine<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>casted_key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   3362</span>             <span class="ansi-green-fg">except</span> KeyError <span class="ansi-green-fg">as</span> err<span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">-&gt; 3363</span><span class="ansi-red-fg">                 </span><span class="ansi-green-fg">raise</span> KeyError<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span> <span class="ansi-green-fg">from</span> err
<span class="ansi-green-intense-fg ansi-bold">   3364</span> 
<span class="ansi-green-intense-fg ansi-bold">   3365</span>         <span class="ansi-green-fg">if</span> is_scalar<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span> <span class="ansi-green-fg">and</span> isna<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span> <span class="ansi-green-fg">and</span> <span class="ansi-green-fg">not</span> self<span class="ansi-blue-fg">.</span>hasnans<span class="ansi-blue-fg">:</span>

<span class="ansi-red-fg">KeyError</span>: '&gt;50K'</pre>
</div>
</div>

</div>
</div>

    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Apparently, the key <code>&gt;50K</code> is missing from some countries, so let's revise the <code>get_rich_percentage</code> function to handle the key error.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="k">def</span> <span class="nf">get_rich_percentage</span><span class="p">(</span><span class="n">salary_series</span><span class="p">):</span>
    <span class="n">salary_counts</span> <span class="o">=</span> <span class="n">salary_series</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">salary_counts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"&gt;50K"</span><span class="p">):</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">(</span><span class="n">salary_counts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"&gt;50K"</span><span class="p">)</span><span class="o">/</span><span class="n">salary_counts</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="n">res</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Having taken care of the key error, we now got the Series we're after 🙌. The only thing modified this time is to additionally call the <code>sort_values</code> method on the Series so that the numbers are in descending order. And I'm surprised to see Taiwan 🇹 among the top five on the list!</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">by_country</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"native-country"</span><span class="p">)</span>
<span class="n">rich_percentage_by_country</span> <span class="o">=</span> <span class="n">by_country</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">group</span><span class="p">:</span> <span class="n">get_rich_percentage</span><span class="p">(</span><span class="n">group</span><span class="p">[</span><span class="s2">"salary"</span><span class="p">]))</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">rich_percentage_by_country</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>native-country
Iran                          41.860465
France                        41.379310
India                         40.000000
Taiwan                        39.215686
Japan                         38.709677
Yugoslavia                    37.500000
Cambodia                      36.842105
Italy                         34.246575
England                       33.333333
Canada                        32.231405
Germany                       32.116788
Philippines                   30.808081
Hong                          30.000000
Greece                        27.586207
China                         26.666667
Cuba                          26.315789
?                             25.042882
Scotland                      25.000000
United-States                 24.583476
Hungary                       23.076923
Ireland                       20.833333
South                         20.000000
Poland                        20.000000
Thailand                      16.666667
Ecuador                       14.285714
Jamaica                       12.345679
Laos                          11.111111
Portugal                      10.810811
Trinadad&amp;Tobago               10.526316
Puerto-Rico                   10.526316
Haiti                          9.090909
El-Salvador                    8.490566
Honduras                       7.692308
Vietnam                        7.462687
Peru                           6.451613
Nicaragua                      5.882353
Mexico                         5.132193
Guatemala                      4.687500
Columbia                       3.389831
Dominican-Republic             2.857143
Outlying-US(Guam-USVI-etc)     0.000000
Holand-Netherlands             0.000000
dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Finally, we call the <code>idxmax</code> method on <code>rich_percentage_by_country</code> to get the country with the highest percentage, which turns out to be <code>Iran</code>.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">highest_earning_country</span> <span class="o">=</span> <span class="n">rich_percentage_by_country</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()</span>
<span class="n">highest_earning_country</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>'Iran'</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And with the key <code>Iran</code>, we can easily get the percentage for that country.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">highest_earning_country_percentage</span> <span class="o">=</span> <span class="n">rich_percentage_by_country</span><span class="p">[</span><span class="n">highest_earning_country</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Before rounding: </span><span class="si">{</span><span class="n">highest_earning_country_percentage</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="n">highest_earning_country_percentage</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">highest_earning_country_percentage</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"After rounding: </span><span class="si">{</span><span class="n">highest_earning_country_percentage</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Before rounding: 41.86046511627907
After rounding: 41.9
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Q9:-Most-popular-occupation-for-those-who-make-more-than-50k-in-India">
<a class="anchor" href="#Q9:-Most-popular-occupation-for-those-who-make-more-than-50k-in-India" aria-hidden="true"><span class="octicon octicon-link"></span></a>Q9: Most popular occupation for those who make more than 50k in India<a class="anchor-link" href="#Q9:-Most-popular-occupation-for-those-who-make-more-than-50k-in-India"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This final question is specifically asking about people who make more than 50K in India, so we need two Boolean filters, one based on <code>salary</code> and the other on <code>native-country</code>. Adding the symbol <code>&amp;</code> between the two filters creates the <code>and</code> condition, which filters out the subset we want, named <code>rich_indians</code> 💰🇮 .</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">salary_filt</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"salary"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"&gt;50K"</span>
<span class="n">indian_filt</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"native-country"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"India"</span>
<span class="n">rich_indians</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">indian_filt</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">salary_filt</span><span class="p">)]</span>
<span class="n">rich_indians</span>
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Output" data-close="Show Output"></summary>
        <p>
</p>
<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

  <div id="df-a5f1ede4-4f38-49fc-9890-5ff80fe6f38e">
    <div class="colab-df-container">
      <div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>workclass</th>
      <th>fnlwgt</th>
      <th>education</th>
      <th>education-num</th>
      <th>marital-status</th>
      <th>occupation</th>
      <th>relationship</th>
      <th>race</th>
      <th>sex</th>
      <th>capital-gain</th>
      <th>capital-loss</th>
      <th>hours-per-week</th>
      <th>native-country</th>
      <th>salary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>11</th>
      <td>30</td>
      <td>State-gov</td>
      <td>141297</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>968</th>
      <td>48</td>
      <td>Private</td>
      <td>164966</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>1327</th>
      <td>52</td>
      <td>Private</td>
      <td>168381</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Widowed</td>
      <td>Other-service</td>
      <td>Unmarried</td>
      <td>Asian-Pac-Islander</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>7258</th>
      <td>42</td>
      <td>State-gov</td>
      <td>102343</td>
      <td>Prof-school</td>
      <td>15</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>72</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>7285</th>
      <td>54</td>
      <td>State-gov</td>
      <td>93449</td>
      <td>Masters</td>
      <td>14</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>8124</th>
      <td>36</td>
      <td>Private</td>
      <td>172104</td>
      <td>Prof-school</td>
      <td>15</td>
      <td>Never-married</td>
      <td>Prof-specialty</td>
      <td>Not-in-family</td>
      <td>Other</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>9939</th>
      <td>43</td>
      <td>Federal-gov</td>
      <td>325706</td>
      <td>Prof-school</td>
      <td>15</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>50</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>10590</th>
      <td>35</td>
      <td>Private</td>
      <td>98283</td>
      <td>Prof-school</td>
      <td>15</td>
      <td>Never-married</td>
      <td>Prof-specialty</td>
      <td>Not-in-family</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>10661</th>
      <td>59</td>
      <td>Private</td>
      <td>122283</td>
      <td>Prof-school</td>
      <td>15</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>99999</td>
      <td>0</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>10736</th>
      <td>30</td>
      <td>Private</td>
      <td>243190</td>
      <td>Prof-school</td>
      <td>15</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>20</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>11260</th>
      <td>54</td>
      <td>Private</td>
      <td>225599</td>
      <td>Masters</td>
      <td>14</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>7298</td>
      <td>0</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>11384</th>
      <td>34</td>
      <td>Private</td>
      <td>98283</td>
      <td>Prof-school</td>
      <td>15</td>
      <td>Never-married</td>
      <td>Tech-support</td>
      <td>Not-in-family</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>1564</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>13422</th>
      <td>53</td>
      <td>Private</td>
      <td>366957</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>99999</td>
      <td>0</td>
      <td>50</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>13551</th>
      <td>40</td>
      <td>Private</td>
      <td>220977</td>
      <td>Doctorate</td>
      <td>16</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>3103</td>
      <td>0</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>13862</th>
      <td>45</td>
      <td>Private</td>
      <td>209912</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>16017</th>
      <td>41</td>
      <td>Private</td>
      <td>207578</td>
      <td>Assoc-acdm</td>
      <td>12</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>Black</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>50</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>16778</th>
      <td>43</td>
      <td>Private</td>
      <td>242968</td>
      <td>Masters</td>
      <td>14</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>16923</th>
      <td>41</td>
      <td>Private</td>
      <td>143003</td>
      <td>Assoc-voc</td>
      <td>11</td>
      <td>Married-civ-spouse</td>
      <td>Other-service</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>7298</td>
      <td>0</td>
      <td>60</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>17259</th>
      <td>57</td>
      <td>Self-emp-inc</td>
      <td>123053</td>
      <td>Prof-school</td>
      <td>15</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>15024</td>
      <td>0</td>
      <td>50</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>17834</th>
      <td>29</td>
      <td>Self-emp-not-inc</td>
      <td>341672</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Married-spouse-absent</td>
      <td>Transport-moving</td>
      <td>Other-relative</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>1564</td>
      <td>50</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>20417</th>
      <td>42</td>
      <td>Self-emp-inc</td>
      <td>23510</td>
      <td>Masters</td>
      <td>14</td>
      <td>Divorced</td>
      <td>Exec-managerial</td>
      <td>Unmarried</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>2201</td>
      <td>60</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>20465</th>
      <td>39</td>
      <td>Private</td>
      <td>198654</td>
      <td>Prof-school</td>
      <td>15</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>2415</td>
      <td>67</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>21128</th>
      <td>30</td>
      <td>Private</td>
      <td>122889</td>
      <td>Masters</td>
      <td>14</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>50</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>23474</th>
      <td>55</td>
      <td>State-gov</td>
      <td>120781</td>
      <td>Doctorate</td>
      <td>16</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>24154</th>
      <td>46</td>
      <td>Private</td>
      <td>229737</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Sales</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>50</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>25739</th>
      <td>35</td>
      <td>Self-emp-inc</td>
      <td>79586</td>
      <td>Masters</td>
      <td>14</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>26305</th>
      <td>27</td>
      <td>Private</td>
      <td>207352</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Tech-support</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>26356</th>
      <td>34</td>
      <td>Private</td>
      <td>99872</td>
      <td>Masters</td>
      <td>14</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>3103</td>
      <td>0</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>27670</th>
      <td>61</td>
      <td>Private</td>
      <td>80896</td>
      <td>Masters</td>
      <td>14</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>45</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>28264</th>
      <td>51</td>
      <td>Self-emp-not-inc</td>
      <td>120781</td>
      <td>Prof-school</td>
      <td>15</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Other</td>
      <td>Male</td>
      <td>99999</td>
      <td>0</td>
      <td>70</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>28433</th>
      <td>42</td>
      <td>Private</td>
      <td>198341</td>
      <td>Masters</td>
      <td>14</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>1902</td>
      <td>55</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>28452</th>
      <td>53</td>
      <td>Private</td>
      <td>70387</td>
      <td>Masters</td>
      <td>14</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>4386</td>
      <td>0</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>28557</th>
      <td>34</td>
      <td>Private</td>
      <td>165737</td>
      <td>Masters</td>
      <td>14</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>43</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>28651</th>
      <td>45</td>
      <td>Self-emp-not-inc</td>
      <td>216402</td>
      <td>Prof-school</td>
      <td>15</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>50</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>28798</th>
      <td>30</td>
      <td>Self-emp-not-inc</td>
      <td>116666</td>
      <td>Masters</td>
      <td>14</td>
      <td>Divorced</td>
      <td>Prof-specialty</td>
      <td>Not-in-family</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>50</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>30111</th>
      <td>41</td>
      <td>Federal-gov</td>
      <td>219155</td>
      <td>Prof-school</td>
      <td>15</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>50</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>30152</th>
      <td>48</td>
      <td>Private</td>
      <td>119471</td>
      <td>Doctorate</td>
      <td>16</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>30833</th>
      <td>25</td>
      <td>Private</td>
      <td>110978</td>
      <td>Assoc-acdm</td>
      <td>12</td>
      <td>Married-civ-spouse</td>
      <td>Adm-clerical</td>
      <td>Wife</td>
      <td>Asian-Pac-Islander</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>37</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>31327</th>
      <td>38</td>
      <td>State-gov</td>
      <td>125499</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>7688</td>
      <td>0</td>
      <td>60</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>31357</th>
      <td>23</td>
      <td>Private</td>
      <td>143003</td>
      <td>Masters</td>
      <td>14</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Husband</td>
      <td>Asian-Pac-Islander</td>
      <td>Male</td>
      <td>0</td>
      <td>1887</td>
      <td>50</td>
      <td>India</td>
      <td>&gt;50K</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-a5f1ede4-4f38-49fc-9890-5ff80fe6f38e')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  &lt;svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px"&gt;
    <path d="M0 0h24v24H0V0z" fill="none"></path>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"></path><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"></path>
  &lt;/svg&gt;
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-a5f1ede4-4f38-49fc-9890-5ff80fe6f38e button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-a5f1ede4-4f38-49fc-9890-5ff80fe6f38e');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>

</div>

</div>
</div>

    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, since we're trying to find out the most popular job among rich Indians, we need a count for each unique job. One of the neatest way to go about this is to call the <code>groupby</code> method on <code>rich_indians</code> and then the <code>size</code> method on the resulting GroupBy object.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">ind_occupations</span> <span class="o">=</span> <span class="n">rich_indians</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"occupation"</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
<span class="n">ind_occupations</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>occupation
Adm-clerical         1
Exec-managerial      8
Other-service        2
Prof-specialty      25
Sales                1
Tech-support         2
Transport-moving     1
dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Finally, we call the <code>idxmax</code> method on the <code>ind_occupations</code> Series to get the most popular occupation, which is <code>Prof-specialty</code>.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">top_IN_occupation</span> <span class="o">=</span> <span class="n">ind_occupations</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()</span>
<span class="n">top_IN_occupation</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>'Prof-specialty'</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Put-it-together">
<a class="anchor" href="#Put-it-together" aria-hidden="true"><span class="octicon octicon-link"></span></a>Put it together<a class="anchor-link" href="#Put-it-together"> </a>
</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here's the complete code for this project, including the main function <code>calculate_demographic_data</code> and the helper function <code>get_rich_percentage</code> for Q8.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">fpath</span> <span class="o">=</span> <span class="s2">"adult.data.csv"</span>

<span class="k">def</span> <span class="nf">get_rich_percentage</span><span class="p">(</span><span class="n">salary_series</span><span class="p">):</span>
    <span class="n">salary_counts</span> <span class="o">=</span> <span class="n">salary_series</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">salary_counts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"&gt;50K"</span><span class="p">):</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">(</span><span class="n">salary_counts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"&gt;50K"</span><span class="p">)</span><span class="o">/</span><span class="n">salary_counts</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="n">res</span>

<span class="k">def</span> <span class="nf">calculate_demographic_data</span><span class="p">(</span><span class="n">print_data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="c1"># Read data from file</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>

    <span class="c1"># Q1 How many of each race are represented in this dataset? This should be a Pandas series with race names as the index labels.</span>
    <span class="n">race_count</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"race"</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># Q2 What is the average age of men?</span>
    <span class="n">average_age_men</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"sex"</span><span class="p">)[</span><span class="s2">"age"</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()[</span><span class="s2">"Male"</span><span class="p">]</span>
    <span class="n">average_age_men</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">average_age_men</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Q3 What is the percentage of people who have a Bachelor's degree?</span>
    <span class="n">edu_filt</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"education"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Bachelors"</span>
    <span class="n">percentage_bachelors</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">edu_filt</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="n">percentage_bachelors</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">percentage_bachelors</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Q4 What percentage of people with advanced education (`Bachelors`, `Masters`, or `Doctorate`) make more than 50K?</span>
    <span class="n">higher_degrees</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"Bachelors"</span><span class="p">,</span> <span class="s2">"Masters"</span><span class="p">,</span> <span class="s2">"Doctorate"</span><span class="p">]</span>
    <span class="n">higher_education_filt</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"education"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">higher_degrees</span><span class="p">)</span>
    <span class="n">higher_education</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">higher_education_filt</span><span class="p">]</span>
    <span class="n">salary_filt</span> <span class="o">=</span> <span class="n">higher_education</span><span class="p">[</span><span class="s2">"salary"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"&gt;50K"</span>
    <span class="n">higher_education_rich</span> <span class="o">=</span> <span class="p">(</span><span class="n">higher_education</span><span class="p">[</span><span class="n">salary_filt</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">higher_education</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="n">higher_education_rich</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">higher_education_rich</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Q5 What percentage of people without advanced education make more than 50K?</span>
    <span class="n">lower_education</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="o">~</span> <span class="n">higher_education_filt</span><span class="p">]</span>
    <span class="n">salary_filt</span> <span class="o">=</span> <span class="n">lower_education</span><span class="p">[</span><span class="s2">"salary"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"&gt;50K"</span>
    <span class="n">lower_education_rich</span> <span class="o">=</span> <span class="p">(</span><span class="n">lower_education</span><span class="p">[</span><span class="n">salary_filt</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">lower_education</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="n">lower_education_rich</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">lower_education_rich</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Q6 What is the minimum number of hours a person works per week (hours-per-week feature)?</span>
    <span class="n">min_work_hours</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"hours-per-week"</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>

    <span class="c1"># Q7 What percentage of the people who work the minimum number of hours per week have a salary of &gt;50K?</span>
    <span class="n">hour_filt</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"hours-per-week"</span><span class="p">]</span> <span class="o">==</span> <span class="n">min_work_hours</span>
    <span class="n">min_hour_workers</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">hour_filt</span><span class="p">]</span>
    <span class="n">salary_filt</span> <span class="o">=</span> <span class="n">min_hour_workers</span><span class="p">[</span><span class="s2">"salary"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"&gt;50K"</span>
    <span class="n">rich_percentage</span> <span class="o">=</span> <span class="p">(</span><span class="n">min_hour_workers</span><span class="p">[</span><span class="n">salary_filt</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">min_hour_workers</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="n">rich_percentage</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">rich_percentage</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Q8 What country has the highest percentage of people that earn &gt;50K and what is that percentage?</span>
    <span class="n">by_country</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"native-country"</span><span class="p">)</span>
    <span class="n">rich_percentage_by_country</span> <span class="o">=</span> <span class="n">by_country</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">group</span><span class="p">:</span> <span class="n">get_rich_percentage</span><span class="p">(</span><span class="n">group</span><span class="p">[</span><span class="s2">"salary"</span><span class="p">]))</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">highest_earning_country</span> <span class="o">=</span> <span class="n">rich_percentage_by_country</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()</span>
    <span class="n">highest_earning_country_percentage</span> <span class="o">=</span> <span class="n">rich_percentage_by_country</span><span class="p">[</span><span class="n">highest_earning_country</span><span class="p">]</span>
    <span class="n">highest_earning_country_percentage</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">highest_earning_country_percentage</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    
    <span class="c1"># Q9 Identify the most popular occupation for those who earn &gt;50K in India.</span>
    <span class="n">salary_filt</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"salary"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"&gt;50K"</span>
    <span class="n">indian_filt</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"native-country"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"India"</span>
    <span class="n">rich_indians</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">indian_filt</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">salary_filt</span><span class="p">)]</span>
    <span class="n">ind_occupations</span> <span class="o">=</span> <span class="n">rich_indians</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"occupation"</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
    <span class="n">top_IN_occupation</span> <span class="o">=</span> <span class="n">ind_occupations</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()</span>

    <span class="c1"># DO NOT MODIFY BELOW THIS LINE</span>

    <span class="k">if</span> <span class="n">print_data</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Number of each race:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">race_count</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Average age of men:"</span><span class="p">,</span> <span class="n">average_age_men</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Percentage with Bachelors degrees: </span><span class="si">{</span><span class="n">percentage_bachelors</span><span class="si">}</span><span class="s2">%"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">"Percentage with higher education that earn &gt;50K: </span><span class="si">{</span><span class="n">higher_education_rich</span><span class="si">}</span><span class="s2">%"</span>
        <span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">"Percentage without higher education that earn &gt;50K: </span><span class="si">{</span><span class="n">lower_education_rich</span><span class="si">}</span><span class="s2">%"</span>
        <span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Min work time: </span><span class="si">{</span><span class="n">min_work_hours</span><span class="si">}</span><span class="s2"> hours/week"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">"Percentage of rich among those who work fewest hours: </span><span class="si">{</span><span class="n">rich_percentage</span><span class="si">}</span><span class="s2">%"</span>
        <span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Country with highest percentage of rich:"</span><span class="p">,</span>
              <span class="n">highest_earning_country</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">"Highest percentage of rich people in country: </span><span class="si">{</span><span class="n">highest_earning_country_percentage</span><span class="si">}</span><span class="s2">%"</span>
        <span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Top occupations in India:"</span><span class="p">,</span> <span class="n">top_IN_occupation</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">'race_count'</span><span class="p">:</span> <span class="n">race_count</span><span class="p">,</span>
        <span class="s1">'average_age_men'</span><span class="p">:</span> <span class="n">average_age_men</span><span class="p">,</span>
        <span class="s1">'percentage_bachelors'</span><span class="p">:</span> <span class="n">percentage_bachelors</span><span class="p">,</span>
        <span class="s1">'higher_education_rich'</span><span class="p">:</span> <span class="n">higher_education_rich</span><span class="p">,</span>
        <span class="s1">'lower_education_rich'</span><span class="p">:</span> <span class="n">lower_education_rich</span><span class="p">,</span>
        <span class="s1">'min_work_hours'</span><span class="p">:</span> <span class="n">min_work_hours</span><span class="p">,</span>
        <span class="s1">'rich_percentage'</span><span class="p">:</span> <span class="n">rich_percentage</span><span class="p">,</span>
        <span class="s1">'highest_earning_country'</span><span class="p">:</span> <span class="n">highest_earning_country</span><span class="p">,</span>
        <span class="s1">'highest_earning_country_percentage'</span><span class="p">:</span>
        <span class="n">highest_earning_country_percentage</span><span class="p">,</span>
        <span class="s1">'top_IN_occupation'</span><span class="p">:</span> <span class="n">top_IN_occupation</span>
    <span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now it's time to harvest the fruits of our labor by calling the <code>calculate_demographic_data</code> function! And it worked as expected! 🎊㊗</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">calculate_demographic_data</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Number of each race:
 race
White                 27816
Black                  3124
Asian-Pac-Islander     1039
Amer-Indian-Eskimo      311
Other                   271
dtype: int64
Average age of men: 39.4
Percentage with Bachelors degrees: 16.4%
Percentage with higher education that earn &gt;50K: 46.5%
Percentage without higher education that earn &gt;50K: 17.4%
Min work time: 1 hours/week
Percentage of rich among those who work fewest hours: 10.0%
Country with highest percentage of rich: Iran
Highest percentage of rich people in country: 41.9%
Top occupations in India: Prof-specialty
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{'average_age_men': 39.4,
 'higher_education_rich': 46.5,
 'highest_earning_country': 'Iran',
 'highest_earning_country_percentage': 41.9,
 'lower_education_rich': 17.4,
 'min_work_hours': 1,
 'percentage_bachelors': 16.4,
 'race_count': race
 White                 27816
 Black                  3124
 Asian-Pac-Islander     1039
 Amer-Indian-Eskimo      311
 Other                   271
 dtype: int64,
 'rich_percentage': 10.0,
 'top_IN_occupation': 'Prof-specialty'}</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Recap">
<a class="anchor" href="#Recap" aria-hidden="true"><span class="octicon octicon-link"></span></a>Recap<a class="anchor-link" href="#Recap"> </a>
</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Once you finish the freeCodeCamp project Demographic Data Analyzer, you'll become comfortable doing data analysis with the <code>pandas</code> library while manipulating <code>pandas</code> objects like <code>Series</code>, <code>DataFrame</code>, and <code>GroupBy</code>. Starting from the next project, we'll enter the realm of visualization, drawing figures with the help of libraries like <code>matplotlib</code> and <code>seaborn</code>. Until then 👋!</p>

</div>
</div>
</div>
</div>



  </div><a class="u-url" href="/blog.ai/pandas/freecodecamp/certificate/2022/03/09/freeCodeCamp-project-Demographic-Data-Analyzer.html" hidden></a>
</article>

<script src="https://utteranc.es/client.js"
        repo="howard-haowen/blog.ai"
        issue-term="[ENTER TERM HERE]"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog.ai/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/blog.ai/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/blog.ai/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>AI through a linguist&#39;s looking glass</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/howard-haowen" target="_blank" title="howard-haowen"><svg class="svg-icon grey"><use xlink:href="/blog.ai/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://www.linkedin.com/in/haowen-jiang-phd-16242074" target="_blank" title="haowen-jiang-phd-16242074"><svg class="svg-icon grey"><use xlink:href="/blog.ai/assets/minima-social-icons.svg#linkedin"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
